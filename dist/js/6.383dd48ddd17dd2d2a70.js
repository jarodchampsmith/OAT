webpackJsonp([6],{394:function(e,t,a){function s(e){a(546)}var r=a(240)(a(494),a(602),s,null,null);e.exports=r.exports},411:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regex=t.ref=t.len=t.req=t.withParams=void 0;var s=a(435),r=function(e){return e&&e.__esModule?e:{default:e}}(s);t.withParams=r.default;var n=t.req=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if("object"==typeof e){for(var t in e)return!0;return!1}return!!String(e).length};t.len=function(e){return Array.isArray(e)?e.length:"object"==typeof e?Object.keys(e).length:String(e).length},t.ref=function(e,t,a){return"function"==typeof e?e.call(t,a):a[e]},t.regex=function(e,t){return(0,r.default)({type:e},function(e){return!n(e)||t.test(e)})}},413:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.and=t.or=t.url=t.sameAs=t.requiredUnless=t.requiredIf=t.required=t.minLength=t.maxLength=t.email=t.between=t.numeric=t.alphaNum=t.alpha=void 0;var r=a(421),n=s(r),i=a(422),o=s(i),l=a(428),c=s(l),u=a(424),d=s(u),f=a(425),p=s(f),m=a(426),v=s(m),h=a(427),y=s(h),_=a(430),b=s(_),g=a(431),$=s(g),x=a(432),w=s(x),S=a(433),q=s(S),C=a(434),P=s(C),A=a(429),M=s(A),k=a(423),O=s(k);t.alpha=n.default,t.alphaNum=o.default,t.numeric=c.default,t.between=d.default,t.email=p.default,t.maxLength=v.default,t.minLength=y.default,t.required=b.default,t.requiredIf=$.default,t.requiredUnless=w.default,t.sameAs=q.default,t.url=P.default,t.or=M.default,t.and=O.default},414:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fab",data:function(){return{hideFrom:["login","sync"]}},methods:{click:function(e){this.$router.push({name:e})}}}},415:function(e,t,a){t=e.exports=a(390)(void 0),t.push([e.i,".q-fab{z-index:1000!important}",""])},416:function(e,t,a){var s=a(415);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(391)("c80c07c0",s,!0)},417:function(e,t,a){function s(e){a(416)}var r=a(240)(a(414),a(418),s,null,null);e.exports=r.exports},418:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-fab",{staticClass:"absolute-bottom-right",attrs:{classNames:"secondary",icon:"keyboard_arrow_left",direction:"left"}},[a("q-small-fab",{staticClass:"negative",attrs:{icon:"power_settings_new"},nativeOn:{click:function(t){e.click("logout")}}}),e._v(" "),a("q-small-fab",{staticClass:"primary",attrs:{icon:"home"},nativeOn:{click:function(t){e.click("dashboard")}}}),e._v(" "),a("q-small-fab",{staticClass:"primary",attrs:{icon:"settings"},nativeOn:{click:function(t){e.click("admin")}}}),e._v(" "),this.$store.getters.isOnline?a("q-small-fab",{staticClass:"info",attrs:{icon:"cloud"},nativeOn:{click:function(t){e.click("sync")}}}):e._e(),e._v(" "),this.$store.getters.isOnline?e._e():a("q-small-fab",{staticClass:"info disabled",attrs:{icon:"cloud_off"}})],1)},staticRenderFns:[]}},419:function(e,t,a){var s=a(240)(null,a(420),null,null,null);e.exports=s.exports},420:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-tabs",{staticClass:"justified no-border-radius",slot:"navigation"},[a("q-tab",{attrs:{icon:"brightness_auto",route:"/assets"}},[e._v("Assets")]),e._v(" "),a("q-tab",{attrs:{icon:"nature",route:"/vessels"}},[e._v("Vessels")]),e._v(" "),a("q-tab",{attrs:{icon:"local_shipping",route:"/transports"}},[e._v("Transports")]),e._v(" "),a("q-tab",{attrs:{icon:"gesture",route:"/hoses"}},[e._v("Hoses")]),e._v(" "),a("q-tab",{attrs:{icon:"av_timer",route:"/meters"}},[e._v("Meters")])],1)},staticRenderFns:[]}},421:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=(0,s.regex)("alpha",/^[a-zA-Z]*$/)},422:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=(0,s.regex)("alphaNum",/^[a-zA-Z0-9]*$/)},423:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.withParams)({type:"and"},function(){for(var e=this,a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return t.length>0&&t.reduce(function(t,a){return t&&a.apply(e,s)},!0)})}},424:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=function(e,t){return(0,s.withParams)({type:"between",min:e,max:t},function(a){return!(0,s.req)(a)||!/\s/.test(a)&&+e<=+a&&+t>=+a})}},425:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=(0,s.regex)("email",/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/)},426:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=function(e){return(0,s.withParams)({type:"maxLength",max:e},function(t){return!(0,s.req)(t)||(0,s.len)(t)<=e})}},427:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=function(e){return(0,s.withParams)({type:"minLength",min:e},function(t){return!(0,s.req)(t)||(0,s.len)(t)>=e})}},428:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=(0,s.regex)("numeric",/^[0-9]*$/)},429:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.withParams)({type:"or"},function(){for(var e=this,a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return t.length>0&&t.reduce(function(t,a){return t||a.apply(e,s)},!1)})}},430:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=(0,s.withParams)({type:"required"},s.req)},431:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=function(e){return(0,s.withParams)({type:"requiredIf",prop:e},function(t,a){return!(0,s.ref)(e,this,a)||(0,s.req)(t)})}},432:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=function(e){return(0,s.withParams)({type:"requiredUnless",prop:e},function(t,a){return!!(0,s.ref)(e,this,a)||(0,s.req)(t)})}},433:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=function(e){return(0,s.withParams)({type:"sameAs",eq:e},function(t,a){return t===(0,s.ref)(e,this,a)})}},434:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(411);t.default=(0,s.regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/)},435:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(242).withParams;t.default=s},494:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(243),r=a.n(s),n=a(67),i=a.n(n),o=a(20),l=(a.n(o),a(417)),c=a.n(l),u=a(0),d=a.n(u),f=a(413),p=(a.n(f),a(419)),m=a.n(p);t.default={name:"editAsset",components:{fab:c.a,adminNav:m.a},validations:{asset:{name:{required:f.required},type:{required:f.required},companyid:{required:f.required},companyLocationID:{required:f.required},locationid:{required:f.required}}},data:function(){return{asset:{locationid:"",companyLocationID:"",originalTestDate:"",unitInformation:"",updatedAt:"",createdAt:"",appGeneratedID:"",companyid:null,deletedAt:"",id:null,maxProduct:"",type:"",name:""},companies:[],companySearchTerm:"",user:{},assets:[],locations:[],currentTab:"",typeSelect:[{label:"Highway Tanks",value:"highway"},{label:"Portable Tanks",value:"portable"},{label:"Farm Wagon",value:"farm"},{label:"LPG Storage",value:"LPG"},{label:"NH3 Storage",value:"NH3"}]}},computed:{companiesSelect:function(){var e=[];return this.companies.forEach(function(t){e.push({label:t.name,value:t.name,id:t.id})}),e.sort(this.selectSort)},locationSelect:function(){var e=[{label:"-- UNASSIGNED --",value:null}];if(!this.asset.companyid)return e;var t=this;return this.locations.forEach(function(a){t.asset.companyid&&a.companyid!=t.asset.companyid||e.push({label:a.name+", "+a.address1+", "+a.city+", "+a.region,value:a.id})}),e},assetSelect:function(){var e=[{label:"-- UNASSIGNED --",value:null}];if(!this.asset.companyid)return locationSelect;var t=this;return this.assets.forEach(function(a){a.companyid==t.asset.companyid&&e.push({label:a.name,value:a.id})}),e.sort(this.selectSort)}},mounted:function(){var e=this;o.Events.$on("assets:updated",function(t){o.Toast.create.positive("Item saved successfully."),e.$router.push({name:"assets"})}),o.Events.$on("assets:created",function(t){o.Toast.create.positive("Item saved successfully."),e.$router.push({name:"assets"})}),o.Events.$on("assets:updatedSync",function(t){o.Toast.create.positive("Item will be saved when you are online and perform a sync."),e.$router.push({name:"assets"})}),o.Events.$on("assets:createdSync",function(t){o.Toast.create.positive("Item will be saved when you are online and perform a sync."),e.$router.push({name:"assets"})}),o.Events.$on("assets:error",function(e,t){o.Toast.create.negative(t)}),console.timeEnd("init")},beforeDestroy:function(){o.Events.$off()},beforeCreate:function(){console.time("init")},created:function(){var e=this;if(this.$route.params.id){var t=parseInt(this.$route.params.id);36===this.$route.params.id.toString().length&&(t=this.$route.params.id),this.$store.dispatch("fetchItem",{type:"assets",lookup:"id",value:t,field:"*"}).then(function(t){e.$set(e,"asset",t)})}setTimeout(function(){if(e.assets=e.$store.getters.assets.items,e.companies=e.$store.getters.companies.items,e.locations=e.$store.getters.locations.items,e.user=e.$store.getters.currentUser,e.asset.companyid){var t=!0,a=!1,s=void 0;try{for(var n,o=i()(e.companies.entries());!(t=(n=o.next()).done);t=!0){var l=r()(n.value,2),c=(l[0],l[1]);if(c.id==e.asset.companyid){e.companySearchTerm=c.name;break}}}catch(e){a=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw s}}}},1e3)},methods:{updateComputed:function(){this.$forceUpdate()},selectSort:function(e,t){return e.label<t.label?-1:e.label>t.label?1:0},companySearch:function(e,t){var a=this.companiesSelect.filter(function(t){return t.label.toLowerCase().includes(e.toLowerCase())}).sort(this.selectSort);a||(a=[],a.push({label:"No matching companies.",value:"",id:null})),t(a)},companySelected:function(e){this.$set(this.asset,"companyid",null!==e.id?e.id:e.appGeneratedID),this.$set(this.asset,"companyLocationID",null)},save:function(){if(this.$v&&this.$v.asset&&(this.$v.asset.$touch(),this.$v.asset.$error))return void o.Toast.create.negative("Error saving asset. Please review all form fields for accuracy.");this.asset.createdAt=d.a.utc().format("MMMM, DD YYYY HH:mm:ss"),this.asset.updatedAt=d.a.utc().format("MMMM, DD YYYY HH:mm:ss"),this.$store.dispatch("putItem",{name:"assets",payload:{asset:this.asset}})},update:function(){if(this.$v&&this.$v.asset&&(this.$v.asset.$touch(),this.$v.asset.$error))return void o.Toast.create.negative("Error updating asset. Please review all form fields for accuracy.");this.$store.dispatch("assetAdmin",{id:this.asset.id,value:this.asset}),this.$store.dispatch("updateItem",{name:"assets",key:this.asset.id,payload:{asset:this.asset}})}}}},527:function(e,t,a){t=e.exports=a(390)(void 0),t.push([e.i,"div.q-data-table>.upper-toolbar:first-child{display:none}.autocomplete-clear{position:absolute;right:0;top:8px}.m-t-n-5{margin-top:-5px!important}.m-t-2{margin-top:2px}.m-r-10{margin-right:10px}.m-t-5{margin-top:5px}.m-t-10{margin-top:10px!important}.m-10{margin:10px}.border-right{border-right:2px solid #e0e0e0}",""])},546:function(e,t,a){var s=a(527);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(391)("1817af45",s,!0)},602:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"editAsset"}},[a("admin-nav"),e._v(" "),a("fab"),e._v(" "),a("div",{staticClass:"card no-border-radius"},[a("div",{staticClass:"card-title bg-primary text-white"},[e.asset.id?a("span",{staticClass:"text-bold text-italic"},[e._v("Asset #"+e._s(e.asset.name))]):a("span",{staticClass:"text-bold text-italic"},[e._v("Add a New Asset")]),e._v(" "),e.asset.id?a("span",{staticClass:"label bg-blue float-right"},[a("small",[e._v("Last Updated "+e._s(e.asset.updatedAt))])]):e._e()]),e._v(" "),a("div",{staticClass:"card-content card-force-top-padding"},[a("div",{staticClass:"row gutter"},[a("div",{staticClass:"width-1of1"},[a("div",{staticClass:"stacked-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.asset.name,expression:"asset.name"}],staticClass:"full-width",class:{"has-error":e.$v.asset.name.$error},attrs:{required:""},domProps:{value:e.asset.name},on:{input:function(t){t.target.composing||(e.asset.name=t.target.value)}}}),e._v(" "),a("label",[e._v("Name")])]),e._v(" "),a("div",[e.$v.asset.name.$error?a("span",{staticClass:"text-red"},[e._v("Enter a valid asset name.")]):e._e()])])]),e._v(" "),a("div",{staticClass:"row gutter"},[a("div",{staticClass:"width-1of1"},[a("q-select",{staticClass:"full-width stacked-label",class:{"has-error":e.$v.asset.type.$error},attrs:{type:"list",options:e.typeSelect,label:"Type"},model:{value:e.asset.type,callback:function(t){e.asset.type=t},expression:"asset.type"}}),e._v(" "),a("div",[e.$v.asset.type.$error?a("span",{staticClass:"text-red"},[e._v("Select an asset type.")]):e._e()])],1)]),e._v(" "),a("div",{staticClass:"row gutter"},[a("div",{staticClass:"width-1of1"},[a("div",{staticClass:"stacked-label"},[a("label",{staticClass:"text-primary"},[e._v("Select a Company")]),e._v(" "),e.companySearchTerm?a("button",{staticClass:"autocomplete-clear",on:{click:function(t){e.asset.companyid=null,e.companySearchTerm=""}}},[a("i",{staticClass:"mat-only"},[e._v("clear")]),e._v(" "),a("i",{staticClass:"ios-only"},[e._v("cancel")])]):e._e(),e._v(" "),a("q-autocomplete",{ref:"companySearch",attrs:{delay:300,"max-results":8,delimiter:!0},on:{search:e.companySearch,selected:e.companySelected},model:{value:e.companySearchTerm,callback:function(t){e.companySearchTerm=t},expression:"companySearchTerm"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.companySearchTerm,expression:"companySearchTerm"}],staticClass:"full-width",class:{"has-error":e.$v.asset.companyid.$error},attrs:{placeholder:"Start Typing (Company Name)"},domProps:{value:e.companySearchTerm},on:{input:function(t){t.target.composing||(e.companySearchTerm=t.target.value)}}})])],1),e._v(" "),a("div",[e.$v.asset.companyid.$error?a("span",{staticClass:"text-red"},[e._v("Select a company.")]):e._e()])])]),e._v(" "),a("div",{staticClass:"row gutter"},[a("div",{staticClass:"width-1of1"},[a("q-select",{staticClass:"full-width stacked-label",class:{"has-error":e.$v.asset.companyLocationID.$error},attrs:{type:"list",options:e.locationSelect,label:"Company Branch Location"},model:{value:e.asset.companyLocationID,callback:function(t){e.asset.companyLocationID=t},expression:"asset.companyLocationID"}}),e._v(" "),a("div",[e.$v.asset.companyLocationID.$error?a("span",{staticClass:"text-red"},[e._v("Select a company location.")]):e._e()])],1)]),e._v(" "),a("div",{staticClass:"row gutter"},[a("div",{staticClass:"width-1of1"},[a("q-select",{staticClass:"full-width stacked-label",class:{"has-error":e.$v.asset.locationid.$error},attrs:{type:"list",options:e.locationSelect,label:"Location"},model:{value:e.asset.locationid,callback:function(t){e.asset.locationid=t},expression:"asset.locationid"}})],1)]),e._v(" "),e.asset.id?e._e():a("button",{staticClass:"positive float-right full-width m-10",on:{click:function(t){e.save()}}},[e._v("\n                Save Asset\n            ")]),e._v(" "),e.asset.id?a("button",{staticClass:"positive float-right full-width m-10",on:{click:function(t){e.update()}}},[e._v("\n                Update Asset\n            ")]):e._e()])])],1)},staticRenderFns:[]}}});