webpackJsonp([1],{401:function(e,t,s){var a=s(240)(s(499),s(586),null,null,null);e.exports=a.exports},411:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regex=t.ref=t.len=t.req=t.withParams=void 0;var a=s(435),i=function(e){return e&&e.__esModule?e:{default:e}}(a);t.withParams=i.default;var r=t.req=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if("object"==typeof e){for(var t in e)return!0;return!1}return!!String(e).length};t.len=function(e){return Array.isArray(e)?e.length:"object"==typeof e?Object.keys(e).length:String(e).length},t.ref=function(e,t,s){return"function"==typeof e?e.call(t,s):s[e]},t.regex=function(e,t){return(0,i.default)({type:e},function(e){return!r(e)||t.test(e)})}},412:function(e,t,s){"use strict";var a=s(0),i=s.n(a),r=s(20);s.n(r);s.d(t,"d",function(){return n}),s.d(t,"c",function(){return l}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return c});var n=function(e){return i()(e,"YYYY-MM-DD",!0).isValid()},l=function(e){return i()(e,"YYYY-MM",!0).isValid()},o=function(e){if(Array.isArray(e))return!1;if(null===e||void 0===e||""===e)return!0;if(0===Number("*"))return/^-?\d*$/.test(e);if(!new RegExp("^-?\\d*(\\.\\d+)?$").test(e))return!1;var t=parseFloat(e);return t===t},c={data:function(){return{answerCallback:null,answerFormat:"",answerType:"string",inspection_id:"",question:{},updateOptions:["default","select","yesNo","yesNoNA"],valid:[],value:{answer:{content:"",option:"",extended:{},signatures:[]},comment:"",defectOutcome:null}}},props:{numPhotos:{type:Number,required:!1},answer:{type:Object},inspectionId:{type:[Number,String]},questionId:{type:[Number,String]}},computed:{validObject:function(){var e=[];return this.valid.forEach(function(t){e.push({label:t,value:t})}),e}},created:function(){var e=this;if(this.inspectionId&&this.$set(this,"inspection_id",this.inspectionId),this.questionId&&this.$store.dispatch("fetchItem",{type:"questions",lookup:"id",value:parseInt(this.questionId),field:"*"}).then(function(t){e.$set(e,"question",t),e.answer||(console.log(e.answer),console.log("No answer for question: "+e.questionId+", using default model."),e.answer=r.Utils.extend(!1,e.value),e.$forceUpdate()),e.answer.questionid&&e.answer.inspectionid&&e.answer.categoryid||(e.answer.questionid=t.id,e.answer.categoryid=t.categoryid,e.answer.inspectionid=e.inspectionId,e.answer.isRequired=!0,e.answer.createdAt=i.a.utc().format("MMMM, DD YYYY HH:mm:ss")),t.options&&(e.$set(e,"valid",t.options.split(",").map(function(e){return e.trim()})),e.updateOptions.includes(t.type)||e.value.answer.option||(e.value.answer.option=e.validObject[0].value))}),this.answer.hasOwnProperty("answer")&&this.answer.answer){switch(this.$set(this.value,"answer",this.answer.answer),this.answerType){case"date":this.$set(this.value.answer,"content",i.a.utc(this.value.answer.content,this.answerFormat).format(this.answerFormat));break;case"number":this.$set(this.value.answer,"content",parseInt(this.value.answer.content))}this.answerCallback&&this.answerCallback()}this.answer.hasOwnProperty("comment")&&this.answer.comment&&this.$set(this.value,"comment",this.answer.comment),this.answer.hasOwnProperty("defectOutcome")&&this.answer.defectOutcome&&this.$set(this.value,"defectOutcome",this.answer.defectOutcome),this.$forceUpdate()},methods:{addComment:function(){this.$refs.commentModal.open()},update:r.Utils.debounce(function(){if(this.$v&&this.$v.value&&(this.$v.value.answer.option&&this.$v.value.answer.option.$touch(),this.$v.value.answer.content&&this.$v.value.answer.content.$touch(),this.$v.value.answer&&this.$v.value.answer.$error))return console.log("not updating answer"),void console.log(this.$v.value.answer.$error);console.log("updating answer"),this.updateOptions.includes(this.question.type)&&this.$set(this.value.answer,"option",this.value.answer.content),this.$emit("input",{inspectionId:this.inspection_id,questionId:this.question.id,answer:this.value,fullAnswer:this.answer})},100)}}},413:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.and=t.or=t.url=t.sameAs=t.requiredUnless=t.requiredIf=t.required=t.minLength=t.maxLength=t.email=t.between=t.numeric=t.alphaNum=t.alpha=void 0;var i=s(421),r=a(i),n=s(422),l=a(n),o=s(428),c=a(o),u=s(424),d=a(u),v=s(425),h=a(v),p=s(426),m=a(p),f=s(427),b=a(f),_=s(430),g=a(_),C=s(431),w=a(C),y=s(432),$=a(y),T=s(433),x=a(T),S=s(434),k=a(S),I=s(429),M=a(I),P=s(423),A=a(P);t.alpha=r.default,t.alphaNum=l.default,t.numeric=c.default,t.between=d.default,t.email=h.default,t.maxLength=m.default,t.minLength=b.default,t.required=g.default,t.requiredIf=w.default,t.requiredUnless=$.default,t.sameAs=x.default,t.url=k.default,t.or=M.default,t.and=A.default},414:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fab",data:function(){return{hideFrom:["login","sync"]}},methods:{click:function(e){this.$router.push({name:e})}}}},415:function(e,t,s){t=e.exports=s(390)(void 0),t.push([e.i,".q-fab{z-index:1000!important}",""])},416:function(e,t,s){var a=s(415);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(391)("c80c07c0",a,!0)},417:function(e,t,s){function a(e){s(416)}var i=s(240)(s(414),s(418),a,null,null);e.exports=i.exports},418:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-fab",{staticClass:"absolute-bottom-right",attrs:{classNames:"secondary",icon:"keyboard_arrow_left",direction:"left"}},[s("q-small-fab",{staticClass:"negative",attrs:{icon:"power_settings_new"},nativeOn:{click:function(t){e.click("logout")}}}),e._v(" "),s("q-small-fab",{staticClass:"primary",attrs:{icon:"home"},nativeOn:{click:function(t){e.click("dashboard")}}}),e._v(" "),s("q-small-fab",{staticClass:"primary",attrs:{icon:"settings"},nativeOn:{click:function(t){e.click("admin")}}}),e._v(" "),this.$store.getters.isOnline?s("q-small-fab",{staticClass:"info",attrs:{icon:"cloud"},nativeOn:{click:function(t){e.click("sync")}}}):e._e(),e._v(" "),this.$store.getters.isOnline?e._e():s("q-small-fab",{staticClass:"info disabled",attrs:{icon:"cloud_off"}})],1)},staticRenderFns:[]}},421:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=(0,a.regex)("alpha",/^[a-zA-Z]*$/)},422:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=(0,a.regex)("alphaNum",/^[a-zA-Z0-9]*$/)},423:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.withParams)({type:"and"},function(){for(var e=this,s=arguments.length,a=Array(s),i=0;i<s;i++)a[i]=arguments[i];return t.length>0&&t.reduce(function(t,s){return t&&s.apply(e,a)},!0)})}},424:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=function(e,t){return(0,a.withParams)({type:"between",min:e,max:t},function(s){return!(0,a.req)(s)||!/\s/.test(s)&&+e<=+s&&+t>=+s})}},425:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=(0,a.regex)("email",/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/)},426:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=function(e){return(0,a.withParams)({type:"maxLength",max:e},function(t){return!(0,a.req)(t)||(0,a.len)(t)<=e})}},427:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=function(e){return(0,a.withParams)({type:"minLength",min:e},function(t){return!(0,a.req)(t)||(0,a.len)(t)>=e})}},428:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=(0,a.regex)("numeric",/^[0-9]*$/)},429:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.withParams)({type:"or"},function(){for(var e=this,s=arguments.length,a=Array(s),i=0;i<s;i++)a[i]=arguments[i];return t.length>0&&t.reduce(function(t,s){return t||s.apply(e,a)},!1)})}},430:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=(0,a.withParams)({type:"required"},a.req)},431:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=function(e){return(0,a.withParams)({type:"requiredIf",prop:e},function(t,s){return!(0,a.ref)(e,this,s)||(0,a.req)(t)})}},432:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=function(e){return(0,a.withParams)({type:"requiredUnless",prop:e},function(t,s){return!!(0,a.ref)(e,this,s)||(0,a.req)(t)})}},433:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=function(e){return(0,a.withParams)({type:"sameAs",eq:e},function(t,s){return t===(0,a.ref)(e,this,s)})}},434:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(411);t.default=(0,a.regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/)},435:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(242).withParams;t.default=a},436:function(e,t,s){var a=s(70)("meta"),i=s(29),r=s(31),n=s(27).f,l=0,o=Object.isExtensible||function(){return!0},c=!s(41)(function(){return o(Object.preventExtensions({}))}),u=function(e){n(e,a,{value:{i:"O"+ ++l,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,a)){if(!o(e))return"F";if(!t)return"E";u(e)}return e[a].i},v=function(e,t){if(!r(e,a)){if(!o(e))return!0;if(!t)return!1;u(e)}return e[a].w},h=function(e){return c&&p.NEED&&o(e)&&!r(e,a)&&u(e),e},p=e.exports={KEY:a,NEED:!1,fastKey:d,getWeak:v,onFreeze:h}},437:function(e,t,s){e.exports={default:s(440),__esModule:!0}},438:function(e,t,s){e.exports={default:s(441),__esModule:!0}},439:function(e,t,s){"use strict";t.__esModule=!0;var a=s(437),i=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return(0,i.default)(e)}},440:function(e,t,s){s(42),s(451),e.exports=s(7).Array.from},441:function(e,t,s){s(253),s(42),s(46),s(452),s(453),e.exports=s(7).Set},442:function(e,t,s){var a=s(241);e.exports=function(e,t){var s=[];return a(e,!1,s.push,s,t),s}},443:function(e,t,s){var a=s(28),i=s(246),r=s(66),n=s(65),l=s(445);e.exports=function(e,t){var s=1==e,o=2==e,c=3==e,u=4==e,d=6==e,v=5==e||d,h=t||l;return function(t,l,p){for(var m,f,b=r(t),_=i(b),g=a(l,p,3),C=n(_.length),w=0,y=s?h(t,C):o?h(t,0):void 0;C>w;w++)if((v||w in _)&&(m=_[w],f=g(m,w,b),e))if(s)y[w]=f;else if(f)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:y.push(m)}else if(u)return!1;return d?-1:c||u?u:y}}},444:function(e,t,s){var a=s(29),i=s(450),r=s(5)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),a(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},445:function(e,t,s){var a=s(444);e.exports=function(e,t){return new(a(e))(t)}},446:function(e,t,s){"use strict";var a=s(27).f,i=s(251),r=s(245),n=s(28),l=s(244),o=s(44),c=s(241),u=s(68),d=s(250),v=s(252),h=s(21),p=s(436).fastKey,m=h?"_s":"size",f=function(e,t){var s,a=p(t);if("F"!==a)return e._i[a];for(s=e._f;s;s=s.n)if(s.k==t)return s};e.exports={getConstructor:function(e,t,s,u){var d=e(function(e,a){l(e,d,t,"_i"),e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=a&&c(a,s,e[u],e)});return r(d.prototype,{clear:function(){for(var e=this,t=e._i,s=e._f;s;s=s.n)s.r=!0,s.p&&(s.p=s.p.n=void 0),delete t[s.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t=this,s=f(t,e);if(s){var a=s.n,i=s.p;delete t._i[s.i],s.r=!0,i&&(i.n=a),a&&(a.p=i),t._f==s&&(t._f=a),t._l==s&&(t._l=i),t[m]--}return!!s},forEach:function(e){l(this,d,"forEach");for(var t,s=n(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(s(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!f(this,e)}}),h&&a(d.prototype,"size",{get:function(){return o(this[m])}}),d},def:function(e,t,s){var a,i,r=f(e,t);return r?r.v=s:(e._l=r={i:i=p(t,!0),k:t,v:s,p:a=e._l,n:void 0,r:!1},e._f||(e._f=r),a&&(a.n=r),e[m]++,"F"!==i&&(e._i[i]=r)),e},getEntry:f,setStrong:function(e,t,s){u(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,s=e._l;s&&s.r;)s=s.p;return e._t&&(e._l=s=s?s.n:e._t._f)?"keys"==t?d(0,s.k):"values"==t?d(0,s.v):d(0,[s.k,s.v]):(e._t=void 0,d(1))},s?"entries":"values",!s,!0),v(t)}}},447:function(e,t,s){var a=s(43),i=s(442);e.exports=function(e){return function(){if(a(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},448:function(e,t,s){"use strict";var a=s(8),i=s(40),r=s(436),n=s(41),l=s(13),o=s(245),c=s(241),u=s(244),d=s(29),v=s(45),h=s(27).f,p=s(443)(0),m=s(21);e.exports=function(e,t,s,f,b,_){var g=a[e],C=g,w=b?"set":"add",y=C&&C.prototype,$={};return m&&"function"==typeof C&&(_||y.forEach&&!n(function(){(new C).entries().next()}))?(C=t(function(t,s){u(t,C,e,"_c"),t._c=new g,void 0!=s&&c(s,b,t[w],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in y&&(!_||"clear"!=e)&&l(C.prototype,e,function(s,a){if(u(this,C,e),!t&&_&&!d(s))return"get"==e&&void 0;var i=this._c[e](0===s?0:s,a);return t?this:i})}),"size"in y&&h(C.prototype,"size",{get:function(){return this._c.size}})):(C=f.getConstructor(t,e,b,w),o(C.prototype,s),r.NEED=!0),v(C,e),$[e]=C,i(i.G+i.W+i.F,$),_||f.setStrong(C,e,b),C}},449:function(e,t,s){"use strict";var a=s(27),i=s(69);e.exports=function(e,t,s){t in e?a.f(e,t,i(0,s)):e[t]=s}},450:function(e,t,s){var a=s(30);e.exports=Array.isArray||function(e){return"Array"==a(e)}},451:function(e,t,s){"use strict";var a=s(28),i=s(40),r=s(66),n=s(248),l=s(247),o=s(65),c=s(449),u=s(71);i(i.S+i.F*!s(249)(function(e){Array.from(e)}),"Array",{from:function(e){var t,s,i,d,v=r(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,f=void 0!==m,b=0,_=u(v);if(f&&(m=a(m,p>2?arguments[2]:void 0,2)),void 0==_||h==Array&&l(_))for(t=o(v.length),s=new h(t);t>b;b++)c(s,b,f?m(v[b],b):v[b]);else for(d=_.call(v),s=new h;!(i=d.next()).done;b++)c(s,b,f?n(d,m,[i.value,b],!0):i.value);return s.length=b,s}})},452:function(e,t,s){"use strict";var a=s(446);e.exports=s(448)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return a.def(this,e=0===e?0:e,e)}},a)},453:function(e,t,s){var a=s(40);a(a.P+a.R,"Set",{toJSON:s(447)("Set")})},454:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(64),i=s.n(a),r=s(20),n=(s.n(r),s(0)),l=s.n(n),o=s(413),c=(s.n(o),s(460)),u=s.n(c),d=s(462),v=s.n(d),h=s(463),p=s.n(h);t.default={name:"asset",components:{attachment:u.a,transport:v.a,vessel:p.a},validations:{asset:{name:{required:o.required}}},data:function(){return{attachments:[],company:{},config:{vessels:{table:{rowHeight:"55px",refresh:!1,leftStickyColumns:1,selection:!1},columns:[{label:"Serial #",field:"serialNumber",width:"120px",sort:!0,filter:!0},{label:"Manufacturer",field:"manufacturer",width:"160px",sort:!0,filter:!0},{label:"Actions",field:"id",format:function(e){return"Actions"},sort:!1,filter:!1,width:"50px"}]},transports:{table:{rowHeight:"55px",refresh:!1,leftStickyColumns:1,selection:!1},columns:[{label:"Name",field:"name",width:"160px",sort:!0,filter:!0},{label:"License",field:"licensePlate",width:"80px",sort:!0,filter:!0},{label:"Chassis Serial #",field:"chassisSerialNumber",width:"100px",sort:!0,filter:!0},{label:"Engine Serial #",field:"engineSerialNumber",width:"100px",sort:!0,filter:!0},{label:"Actions",field:"id",format:function(e){return"Actions"},sort:!1,filter:!1,width:"50px"}]},attachments:{table:{rowHeight:"55px",refresh:!1,leftStickyColumns:1,selection:!1},columns:[{label:"Serial #",field:"serialNumber",width:"120px",sort:!0,filter:!0},{label:"Hose Type",field:"hoseType",width:"100px",sort:!0,filter:!0},{label:"Retest Date",field:"retestDate",width:"100px",sort:!0,filter:!0},{label:"Replacement Year",field:"replacementYear",width:"100px",sort:!0,filter:!0},{label:"Actions",field:"id",format:function(e){return"Actions"},sort:!1,filter:!1,width:"50px"}]}},current:{attachment:{},attachmentId:null,transport:{},transportId:null,vessel:{},vesselId:null},location:{},options:{assetTypes:[{label:"Farm Wagon",value:"farm"},{label:"Highway Tanks",value:"highway"},{label:"Portable Tanks",value:"portable"},{label:"LPG Storage Vessel",value:"LPG"},{label:"NH3 Storage Vessel",value:"NH3"}]},transports:[],vessels:[]}},props:{asset:{type:Object,default:{id:null}}},watch:{"asset.id":function(){this.populate()}},computed:{vesselsTable:function(){return this.vessels},transportsTable:function(){return this.transports},attachmentsTable:function(){return this.attachments}},created:function(){var e=this;this.$store.getters.assetFields.forEach(function(t){e.$set(e.asset,t,null)}),this.populate()},methods:{populate:function(){var e=this;this.$store.dispatch("fetchItems",{name:"vessels",lookup:"assetid",value:this.asset.id,field:"*"}).then(function(t){e.vessels=t,e.asset.hasOwnProperty("vessels")||(e.asset.vessels=[]),e.asset.vessels.forEach(function(t){var s=!1;e.vessels.forEach(function(e){e.id===t.id&&(s=!0,e=t)}),s||e.vessels.push(t)})}),this.$store.dispatch("fetchItems",{name:"attachments",lookup:"assetid",value:this.asset.id,field:"*"}).then(function(t){e.attachments=t}),this.$store.dispatch("fetchItems",{name:"transports",lookup:"assetid",value:this.asset.id,field:"*"}).then(function(t){e.transports=t}),this.$store.dispatch("fetchItems",{name:"attachments",lookup:"assetid",value:this.asset.id,field:"*"}).then(function(t){e.attachments=t})},editVessel:function(e){var t=this;if(e)this.$set(this.current,"vesselId",e.id),this.$set(this.current,"vessel",JSON.parse(i()(e))),this.$set(this.current.vessel,"companyLocationID",this.asset.companyLocationID);else{this.$set(this.current,"vessel",{});this.$store.getters.vesselFields.forEach(function(e){t.$set(t.current.vessel,e,null)}),this.$set(this.current.vessel,"id",r.Utils.uid()),this.$set(this.current.vessel,"appGeneratedID",this.current.vessel.id),this.$set(this.current.vessel,"assetid",null!==this.asset.id?this.asset.id:this.asset.appGeneratedID),this.$set(this.current.vessel,"companyid",this.asset.companyid),this.$set(this.current.vessel,"companyLocationID",this.asset.companyLocationID)}this.$refs.vesselModal.open()},cancelVessel:function(){this.$set(this.current,"vessel",{}),this.$set(this.current,"vesselId",null),this.$refs.vesselModal.close()},saveVessel:function(){var e=this;if(console.log("saving vessel"),this.$refs.vesselEditor.$v&&this.$refs.vesselEditor.$v.vessel&&(this.$refs.vesselEditor.$v.vessel.$touch(),this.$refs.vesselEditor.$v.vessel.$error))return void r.Toast.create.negative("Error saving vessel. Please review all form fields for accuracy.");this.$set(this.current,"vesselId",this.current.vessel.id);var t=!1;this.vessels.forEach(function(s,a){s.id===e.current.vesselId&&(t=a)}),!1===t?this.vessels.push(this.current.vessel):(console.log("found matching vessel"),this.current.vessel.updatedAt=l.a.utc().format("MMMM, DD YYYY HH:mm:ss"),this.vessels[t]=this.current.vessel),this.$refs.vesselModal.close(),this.asset.vessels=this.vessels,r.Events.$emit("save:assetRelation"),setTimeout(function(){e.$refs.tableVessels.filtering.terms="1",e.$refs.tableVessels.filtering.terms=""},200),this.$forceUpdate()},editTransport:function(e){var t=this;if(e)this.$set(this.current,"transportId",e.id),this.$set(this.current,"transport",JSON.parse(i()(e))),this.$set(this.current.transport,"companyLocationID",this.asset.companyLocationID);else{this.$set(this.current,"transport",{});this.$store.getters.transportFields.forEach(function(e){t.$set(t.current.transport,e,null)}),this.$set(this.current.transport,"id",r.Utils.uid()),this.$set(this.current.transport,"appGeneratedID",this.current.transport.id),this.$set(this.current.transport,"assetid",null!==this.asset.id?this.asset.id:this.asset.appGeneratedID),this.$set(this.current.transport,"companyid",this.asset.companyid),this.$set(this.current.transport,"companyLocationID",this.asset.companyLocationID)}this.$refs.transportModal.open()},cancelTransport:function(){this.$set(this.current,"transport",{}),this.$set(this.current,"transportId",null),this.$refs.transportModal.close()},saveTransport:function(){var e=this;if(this.$refs.transportEditor.$v&&this.$refs.transportEditor.$v.transport&&(this.$refs.transportEditor.$v.transport.$touch(),this.$refs.transportEditor.$v.transport.$error))return void r.Toast.create.negative("Error saving transport. Please review all form fields for accuracy.");this.$set(this.current,"transportId",this.current.transport.id);var t=!1;this.transports.forEach(function(s,a){s.id===e.current.transportId&&(t=a)}),!1===t?this.transports.push(this.current.transport):(this.current.transport.updatedAt=l.a.utc().format("MMMM, DD YYYY HH:mm:ss"),this.transports[t]=this.current.transport),this.$refs.transportModal.close(),this.asset.transports=this.transports,r.Events.$emit("save:assetRelation"),setTimeout(function(){e.$refs.tableTransports.filtering.terms="1",e.$refs.tableTransports.filtering.terms=""},200),this.$forceUpdate()},editAttachment:function(e){var t=this;if(e)this.attachments.forEach(function(s,a){e.id===s.id&&(t.$set(t.current,"attachmentId",s.id),t.$set(t.current,"attachment",JSON.parse(i()(s))),t.$set(t.current.attachment,"companyLocationID",t.asset.companyLocationID))});else{this.$set(this.current,"attachment",{});this.$store.getters.attachmentFields.forEach(function(e){t.$set(t.current.attachment,e,null)}),this.$set(this.current.attachment,"id",r.Utils.uid()),this.$set(this.current.attachment,"appGeneratedID",this.current.attachment.id),this.$set(this.current.attachment,"assetid",null!==this.asset.id?this.asset.id:this.asset.appGeneratedID),this.$set(this.current.attachment,"companyid",this.asset.companyid),this.$set(this.current.attachment,"companyLocationID",this.asset.companyLocationID)}this.$refs.attachmentModal.open()},cancelAttachment:function(){this.$set(this.current,"attachment",{}),this.$set(this.current,"attachmentId",null),this.$refs.attachmentModal.close()},saveAttachment:function(){var e=this;if(this.$refs.attachmentEditor.$v&&this.$refs.attachmentEditor.$v.attachment&&(this.$refs.attachmentEditor.$v.attachment.$touch(),this.$refs.attachmentEditor.$v.attachment.$error))return console.log(this.$refs.attachmentEditor.$v.attachment),void r.Toast.create.negative("Error saving attachment. Please review all form fields for accuracy.");this.$set(this.current,"attachmentId",this.current.attachment.id);var t=!1;this.attachments.forEach(function(s,a){s.id===e.current.attachmentId&&(t=a)}),!1===t?this.attachments.push(this.current.attachment):(this.current.attachment.updatedAt=l.a.utc().format("MMMM, DD YYYY HH:mm:ss"),this.attachments[t]=this.current.attachment),this.$refs.attachmentModal.close(),this.asset.attachments=this.attachments,r.Events.$emit("save:assetRelation"),setTimeout(function(){e.$refs.tableAttachments.filtering.terms="1",e.$refs.tableAttachments.filtering.terms=""},200),this.$forceUpdate()},update:function(e){console.log("asset update",e)}}}},455:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(0),i=s.n(a),r=s(413),n=(s.n(r),s(412));t.default={name:"attachment",data:function(){return{options:{Types:[{label:"Hose",value:"hose"}],testIntervals:[{label:"1 Year",value:1},{label:"5 Years",value:5},{label:"10 Years",value:10}],unitSizes:[{label:"in",value:"in"},{label:"cm",value:"cm"}],unitLengths:[{label:"m",value:"m"},{label:"cm",value:"cm"},{label:"inches",value:"in"},{label:"feet",value:"feet"}],testResults:[{label:"Pass",value:"pass"},{label:"Fail",value:"fail"}],sizeSelect:[{label:'1/2"',value:'1/2"'},{label:'3/4"',value:'3/4"'},{label:'1"',value:'1"'},{label:'1 1/4"',value:'1 1/4"'},{label:'1 1/2"',value:'1 1/2"'},{label:'2"',value:'2"'}]}}},validations:{attachment:{type:{required:r.required},companyid:{required:r.required},length:{isDecimal:n.a},lengthUnit:{requiredIfSize:s.i(r.requiredIf)("length")},testPresure:{isDecimal:n.a},HAWP:{isDecimal:n.a}}},props:{attachment:{type:Object,default:{id:null}}},computed:{yearMin:function(){return parseInt(i()().format("YYYY"))-10},yearMax:function(){return parseInt(i()().format("YYYY"))+10},yearSelect:function(){for(var e=[],t=this.yearMax;t>=this.yearMin;t--)e.push({label:t.toString(),value:t});return e}},created:function(){var e=this;this.$store.getters.attachmentFields.forEach(function(t){e.$set(e.attachment,t,null)})},methods:{updateTestResults:function(){"pass"!==this.attachment.lastTestResult&&"fail"!==this.attachment.lastTestResult||(this.attachment.testedAt=i.a.utc().format("MMMM, DD YYYY HH:mm:ss"))},update:function(e){console.log("attachment update",e)}}}},456:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(413),i=(s.n(a),s(412));t.default={name:"meter",data:function(){return{options:{Sizes:[{label:'¾"',value:'¾"'},{label:'1 ½"',value:'1 ½"'},{label:'2"',value:'2"'},{label:'3"',value:'3"'}],Types:[{label:"Meter",value:"Meter"},{label:"Register",value:"Register"}]}}},validations:{meter:{companyid:{required:a.required},reading:{isDecimal:i.a}}},props:{meter:{type:Object,default:{id:null}}},created:function(){var e=this;this.$store.getters.meterFields.forEach(function(t){e.$set(e.meter,t,null)})},methods:{}}},457:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(413),i=(s.n(a),s(412));t.default={name:"transport",data:function(){return{options:{Types:[{label:"Lead Unit",value:"Lead Unit"},{label:"Trail Unit",value:"Trail Unit"},{label:"Tandem Trailer",value:"Tandem Trailer"},{label:"Triaxle Trailer",value:"Triaxle Trailer"},{label:"Bobtail",value:"Bobtail"},{label:"TDU",value:"TDU"},{label:"Farm Wagon",value:"Farm Wagon"}]}}},validations:{transport:{type:{required:a.required},companyid:{required:a.required},engineHours:{isDecimal:i.a}}},props:{transport:{type:Object,default:{id:null}}},created:function(){var e=this;this.$store.getters.transportFields.forEach(function(t){e.$set(e.transport,t,null)})},methods:{update:function(e){console.log("transport update",e)}}}},458:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(64),i=s.n(a),r=s(20),n=(s.n(r),s(0)),l=s.n(n),o=s(413),c=(s.n(o),s(412)),u=s(461),d=s.n(u);t.default={name:"vessel",components:{meters:d.a},validations:{vessel:{serialNumber:{required:o.required},companyid:{required:o.required},MAWP:{isDecimal:c.a},MAWPUnit:{requiredIfMAWP:s.i(o.requiredIf)("MAWP")},MDMT:{isDecimal:c.a},MDMTUnit:{requiredIfMDMT:s.i(o.requiredIf)("MDMT")},listedCapacity:{isDecimal:c.a},listedCapacityUnit:{requiredIfListedCapacity:s.i(o.requiredIf)("listedCapacity")},diameter:{isDecimal:c.a},diameterUnit:{requiredIfDiameter:s.i(o.requiredIf)("diameter")},headThickness:{isDecimal:c.a},headThicknessUnit:{requiredIfHeadThickness:s.i(o.requiredIf)("headThickness")},shellThickness:{isDecimal:c.a},shellThicknessUnit:{requiredIfShellThickness:s.i(o.requiredIf)("shellThickness")},seamToSeamLength:{isDecimal:c.a},seamToSeamLengthUnit:{requiredIfSeamToSeamLength:s.i(o.requiredIf)("seamToSeamLength")}}},data:function(){return{config:{meters:{table:{rowHeight:"55px",refresh:!1,leftStickyColumns:1,selection:!1},columns:[{label:"Serial #",field:"serialNumber",width:"80px",sort:!0,filter:!0},{label:"Type",field:"type",width:"80px",sort:!0,filter:!0},{label:"Size",field:"size",width:"80px",sort:!0,filter:!0},{label:"Make",field:"make",width:"120px",sort:!0,filter:!0},{label:"Reading",field:"reading",width:"80px",sort:!0,filter:!0},{label:"Actions",field:"id",format:function(e){return"Actions"},sort:!1,filter:!1,width:"50px"}]}},current:{meter:{},meterId:null},meters:[],options:{ConstructedOf:[{label:"NQT Steel",value:"NQT"},{label:"QT Steel",value:"QT"}],HeadTypes:[{label:"Hemi",value:"Hemi"},{label:"Semi",value:"Semi"},{label:"Other",value:"Other"}],PlateLocations:[{label:"End",value:"End"},{label:"Passenger Side",value:"Passenger Side"},{label:"Drivers Side",value:"Drivers Side"}],TCSpecification:[{label:"--- NOT APPLICABLE ---",value:"--- NOT APPLICABLE ---"},{label:"MC 330",value:"MC 330"},{label:"MC 331",value:"MC 331"},{label:"MC 331/TC 331",value:"MC 331/TC 331"},{label:"TC 51",value:"TC 51"},{label:"TC 60",value:"TC 60"},{label:"TC 331",value:"TC 331"},{label:"TC 338",value:"TC 338"},{label:"TC 350",value:"TC 350"},{label:"TC 406",value:"TC 406"},{label:"TC 407",value:"TC 407"},{label:"TC 412",value:"TC 412"},{label:"Exempt as per CSA B622-09 SR 54",value:"Exempt as per CSA B622-09 SR 54"},{label:"Exempt as per CSA B622-09 SR 55",value:"Exempt as per CSA B622-09 SR 55"},{label:"Exempt as per CSA B622-09 SR 73",value:"Exempt as per CSA B622-09 SR 73"}],Units:[{label:"Litres",value:"l"},{label:"Gallon",value:"gal"}],UnitLengths:[{label:"in",value:"in"},{label:"cm",value:"cm"}],UnitPressures:[{label:"psi",value:"psi"},{label:"kPa",value:"kPa"}],UnitTemperatures:[{label:"°C",value:"C"},{label:"°F",value:"F"}]}}},props:{vessel:{type:Object,default:{id:null}}},computed:{yearMin:function(){return parseInt(l()().format("YYYY"))-40},yearMax:function(){return parseInt(l()().format("YYYY"))+1},yearSelect:function(){for(var e=[],t=2017;t>=1950;t--)e.push({label:t.toString(),value:t});return e}},watch:{"vessel.id":function(){this.populate()}},created:function(){var e=this;this.$store.getters.vesselFields.forEach(function(t){e.$set(e.vessel,t,null)}),this.populate()},methods:{populate:function(){var e=this;this.$store.dispatch("fetchItems",{name:"meters",lookup:"vesselid",value:this.vessel.id,field:"*"}).then(function(t){e.meters=t,e.vessel.hasOwnProperty("meters")||(e.vessel.meters=[]),e.vessel.meters.forEach(function(t){var s=!1;e.meters.forEach(function(e){e.id===t.id&&(s=!0,e=t)}),s||e.meters.push(t)})})},editMeter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t)this.$set(this.current,"meterId",t.id),this.$set(this.current,"meter",JSON.parse(i()(t))),this.$set(this.current.meter,"companyLocationID",this.vessel.companyLocationID);else{this.$set(this.current,"meter",{});this.$store.getters.meterFields.forEach(function(t){e.$set(e.current.meter,t,null)}),this.$set(this.current.meter,"id",r.Utils.uid()),this.$set(this.current.meter,"appGeneratedID",this.current.meter.id),this.$set(this.current.meter,"vesselid",null!==this.vessel.id?this.vessel.id:this.vessel.appGeneratedID),this.$set(this.current.meter,"companyid",this.vessel.companyid),this.$set(this.current.meter,"companyLocationID",this.vessel.companyLocationID)}this.$refs.meterModal.open()},cancelMeter:function(){this.$set(this.current,"meter",{}),this.$set(this.current,"meterId",null),this.$refs.meterModal.close()},saveMeter:function(){var e=this;if(this.$refs.meterEditor.$v&&this.$refs.meterEditor.$v.meter&&(this.$refs.meterEditor.$v.meter.$touch(),this.$refs.meterEditor.$v.meter.$error))return void r.Toast.create.negative("Error saving meter. Please review all form fields for accuracy.");this.$set(this.current,"meterId",this.current.meter.id);var t=!1;this.meters.forEach(function(s,a){s.id===e.current.meterId&&(t=a)}),!1===t?this.meters.push(this.current.meter):(this.current.meter=l.a.utc().format("MMMM, DD YYYY HH:mm:ss"),this.meters[t]=this.current.meter),this.$refs.meterModal.close(),this.vessel.hasOwnProperty("meters")||(this.vessel.meters=[]),this.vessel.meters=this.meters,r.Events.$emit("save:assetRelation")},update:function(e){console.log("vessel update",e)}}}},459:function(e,t,s){var a=s(240)(s(454),s(464),null,null,null);e.exports=a.exports},460:function(e,t,s){var a=s(240)(s(455),s(465),null,null,null);e.exports=a.exports},461:function(e,t,s){var a=s(240)(s(456),s(466),null,null,null);e.exports=a.exports},462:function(e,t,s){var a=s(240)(s(457),s(468),null,null,null);e.exports=a.exports},463:function(e,t,s){var a=s(240)(s(458),s(467),null,null,null);e.exports=a.exports},464:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"asset"}},[s("div",[s("div",{staticClass:"item-label"},[e._v("Asset Name:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.asset.name,expression:"asset.name"}],staticClass:"auto full-width",class:{"has-error":e.$v.asset.name.$error},attrs:{placeholder:"Name"},domProps:{value:e.asset.name},on:{input:function(t){t.target.composing||(e.asset.name=t.target.value)}}}),e._v(" "),s("div",[e.$v.asset.name.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid asset name.")]):e._e()])]),e._v(" "),s("br"),e._v(" "),s("div",[s("div",{staticClass:"item-label"},[e._v("Asset Type:")]),e._v(" "),s("q-select",{attrs:{type:"list",placeholder:"Type",options:e.options.assetTypes},model:{value:e.asset.type,callback:function(t){e.asset.type=t},expression:"asset.type"}})],1),e._v(" "),s("br"),e._v(" "),s("q-tabs",{staticClass:"justified",attrs:{refs:e.$refs,"default-tab":"tab-vessels"}},[s("q-tab",{attrs:{name:"tab-vessels",icon:"message"}},[e._v("\n\t\t\tVessels ("+e._s(e.vessels.length)+")\n\t\t")]),e._v(" "),s("q-tab",{attrs:{name:"tab-transports",icon:"message"}},[e._v("\n\t\t\tTransports ("+e._s(e.transports.length)+")\n\t\t")]),e._v(" "),s("q-tab",{attrs:{name:"tab-hoses",icon:"message"}},[e._v("\n\t\t\tHoses ("+e._s(e.attachments.length)+")\n\t\t")])],1),e._v(" "),s("div",{ref:"tab-vessels"},[e.asset.id||e.asset.appGeneratedID?s("q-data-table",{ref:"tableVessels",attrs:{data:e.vesselsTable,config:e.config.vessels.table,columns:e.config.vessels.columns},scopedSlots:e._u([["col-id",function(t){return[s("button",{staticClass:"secondary small circular",on:{click:function(s){e.editVessel(t.row)}}},[s("i",[e._v("edit")])])]}]])}):e._e(),e._v(" "),s("button",{staticClass:"primary float-right generic-margin",on:{click:function(t){e.editVessel()}}},[e._v("\n\t\t\tAdd Vessel\n\t\t")]),e._v(" "),s("q-modal",{ref:"vesselModal",staticClass:"maximized",attrs:{"content-css":{padding:"50px"}}},[s("q-layout",[s("div",{staticClass:"toolbar",slot:"header"},[s("button",{on:{click:e.cancelVessel}},[s("i",[e._v("keyboard_arrow_left")])]),e._v(" "),s("q-toolbar-title",{attrs:{padding:1}},[e.current.vesselId?[e._v("Edit Vessel")]:e._e(),e._v(" "),e.current.vesselId?e._e():[e._v("Add Vessel")]],2)],1),e._v(" "),s("div",{staticClass:"layout-view"},[s("div",{staticClass:"layout-padding form-margin"},[s("vessel",{ref:"vesselEditor",attrs:{vessel:e.current.vessel},on:{input:e.update}}),e._v(" "),s("hr",{staticStyle:{clear:"both"}}),e._v(" "),s("button",{staticClass:"warning float-right generic-margin",on:{click:function(t){e.cancelVessel()}}},[e._v("\n\t\t\t\t\t\t\tCancel Vessel\n\t\t\t\t\t\t")]),e._v(" "),s("button",{staticClass:"positive float-right generic-margin",on:{click:function(t){e.saveVessel()}}},[e._v("\n\t\t\t\t\t\t\tSave Vessel\n\t\t\t\t\t\t")])],1)])])],1)],1),e._v(" "),s("div",{ref:"tab-transports"},[e.asset.id||e.asset.appGeneratedID?s("q-data-table",{ref:"tableTransports",attrs:{data:e.transportsTable,config:e.config.transports.table,columns:e.config.transports.columns},scopedSlots:e._u([["col-id",function(t){return[s("button",{staticClass:"secondary small circular",on:{click:function(s){e.editTransport(t.row)}}},[s("i",[e._v("edit")])])]}]])}):e._e(),e._v(" "),s("button",{staticClass:"primary float-right generic-margin",on:{click:function(t){e.editTransport()}}},[e._v("\n\t\t\tAdd Transport\n\t\t")]),e._v(" "),s("q-modal",{ref:"transportModal",staticClass:"maximized",attrs:{"content-css":{padding:"50px"}}},[s("q-layout",[s("div",{staticClass:"toolbar",slot:"header"},[s("button",{on:{click:e.cancelTransport}},[s("i",[e._v("keyboard_arrow_left")])]),e._v(" "),s("q-toolbar-title",{attrs:{padding:1}},[e.current.transportId?[e._v("Edit Transport")]:e._e(),e._v(" "),e.current.transportId?e._e():[e._v("Add Transport")]],2)],1),e._v(" "),s("div",{staticClass:"layout-view"},[s("div",{staticClass:"layout-padding form-margin"},[s("transport",{ref:"transportEditor",attrs:{transport:e.current.transport},on:{input:e.update}}),e._v(" "),s("hr",{staticStyle:{clear:"both"}}),e._v(" "),s("button",{staticClass:"warning float-right generic-margin",on:{click:function(t){e.cancelTransport()}}},[e._v("\n\t\t\t\t\t\t\tCancel Transport\n\t\t\t\t\t\t")]),e._v(" "),s("button",{staticClass:"positive float-right generic-margin",on:{click:function(t){e.saveTransport()}}},[e._v("\n\t\t\t\t\t\t\tSave Transport\n\t\t\t\t\t\t")])],1)])])],1)],1),e._v(" "),s("div",{ref:"tab-hoses"},[e.asset.id||e.asset.appGeneratedID?s("q-data-table",{ref:"tableAttachments",attrs:{data:e.attachmentsTable,config:e.config.attachments.table,columns:e.config.attachments.columns},scopedSlots:e._u([["col-id",function(t){return[s("button",{staticClass:"secondary small circular",on:{click:function(s){e.editAttachment(t.row)}}},[s("i",[e._v("edit")])])]}]])}):e._e(),e._v(" "),s("button",{staticClass:"primary float-right generic-margin",on:{click:function(t){e.editAttachment()}}},[e._v("\n\t\t\tAdd Attachment\n\t\t")]),e._v(" "),s("q-modal",{ref:"attachmentModal",staticClass:"maximized",attrs:{"content-css":{padding:"50px"}}},[s("q-layout",[s("div",{staticClass:"toolbar",slot:"header"},[s("button",{on:{click:e.cancelAttachment}},[s("i",[e._v("keyboard_arrow_left")])]),e._v(" "),s("q-toolbar-title",{attrs:{padding:1}},[e.current.attachmentId?[e._v("Edit Attachment")]:e._e(),e._v(" "),e.current.attachmentId?e._e():[e._v("Add Attachment")]],2)],1),e._v(" "),s("div",{staticClass:"layout-view"},[s("div",{staticClass:"layout-padding form-margin"},[s("attachment",{ref:"attachmentEditor",attrs:{attachment:e.current.attachment},on:{input:e.update}}),e._v(" "),s("hr",{staticStyle:{clear:"both"}}),e._v(" "),s("button",{staticClass:"warning float-right generic-margin",on:{click:function(t){e.cancelAttachment()}}},[e._v("\n\t\t\t\t\t\t\tCancel Attachment\n\t\t\t\t\t\t")]),e._v(" "),s("button",{staticClass:"positive float-right generic-margin",on:{click:function(t){e.saveAttachment()}}},[e._v("\n\t\t\t\t\t\t\tSave Attachment\n\t\t\t\t\t\t")])],1)])])],1)],1)],1)},staticRenderFns:[]}},465:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"attachment"}},[s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of5 md-width-1of1"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.attachment.type.$error},attrs:{type:"list",options:e.options.Types,label:"Type",placeholder:"Type"},model:{value:e.attachment.type,callback:function(t){e.attachment.type=t},expression:"attachment.type"}}),e._v(" "),s("div",[e.$v.attachment.type.$error?s("span",{staticClass:"text-red"},[e._v("Type is a required field.")]):e._e()])],1),e._v(" "),s("div",{staticClass:"width-1of2"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.attachment.serialNumber,expression:"attachment.serialNumber"}],staticClass:"full-width",domProps:{value:e.attachment.serialNumber},on:{input:function(t){t.target.composing||(e.attachment.serialNumber=t.target.value)}}}),e._v(" "),s("label",[e._v("Serial #")])])]),e._v(" "),s("div",{staticClass:"width-1of2"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.attachment.hoseType,expression:"attachment.hoseType"}],staticClass:"full-width",domProps:{value:e.attachment.hoseType},on:{input:function(t){t.target.composing||(e.attachment.hoseType=t.target.value)}}}),e._v(" "),s("label",[e._v("Hose Type")])])])]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of3"},[s("q-select",{staticClass:"stacked-label",attrs:{type:"list",options:e.options.sizeSelect,label:"Hose Size"},model:{value:e.attachment.size,callback:function(t){e.attachment.size=t},expression:"attachment.size"}})],1),e._v(" "),s("div",{staticClass:"width-1of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.attachment.length,expression:"attachment.length"}],staticClass:"full-width",class:{"has-error":e.$v.attachment.length.$error},domProps:{value:e.attachment.length},on:{input:function(t){t.target.composing||(e.attachment.length=t.target.value)}}}),e._v(" "),s("label",[e._v("Length")])]),e._v(" "),s("div",[e.$v.attachment.length.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid length (numeric).")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of3"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.attachment.lengthUnit.$error},attrs:{type:"list",options:e.options.unitLengths,label:"Unit",placeholder:"Unit"},model:{value:e.attachment.lengthUnit,callback:function(t){e.attachment.lengthUnit=t},expression:"attachment.lengthUnit"}}),e._v(" "),s("div",[e.$v.attachment.lengthUnit.$error?s("span",{staticClass:"text-red"},[e._v("Select a length unit.")]):e._e()])],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of3"},[s("q-select",{staticClass:"stacked-label",attrs:{type:"list",options:e.yearSelect,label:"Retest Date"},model:{value:e.attachment.retestDate,callback:function(t){e.attachment.retestDate=t},expression:"attachment.retestDate"}})],1),e._v(" "),s("div",{staticClass:"width-1of3"},[s("q-select",{staticClass:"stacked-label",attrs:{type:"list",options:e.yearSelect,label:"Replacement Year"},model:{value:e.attachment.replacementYear,callback:function(t){e.attachment.replacementYear=t},expression:"attachment.replacementYear"}})],1),e._v(" "),s("div",{staticClass:"width-1of3"},[s("q-select",{staticClass:"stacked-label",attrs:{type:"list",options:e.options.testIntervals,label:"Test Interval"},model:{value:e.attachment.testIntervalInYears,callback:function(t){e.attachment.testIntervalInYears=t},expression:"attachment.testIntervalInYears"}})],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.attachment.testPresure,expression:"attachment.testPresure"}],staticClass:"full-width",class:{"has-error":e.$v.attachment.testPresure.$error},domProps:{value:e.attachment.testPresure},on:{input:function(t){t.target.composing||(e.attachment.testPresure=t.target.value)}}}),e._v(" "),s("label",[e._v("Test Pressure (psi)")])]),e._v(" "),s("div",[e.$v.attachment.testPresure.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid test pressure (numeric).")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.attachment.HAWP,expression:"attachment.HAWP"}],staticClass:"full-width",class:{"has-error":e.$v.attachment.HAWP.$error},domProps:{value:e.attachment.HAWP},on:{input:function(t){t.target.composing||(e.attachment.HAWP=t.target.value)}}}),e._v(" "),s("label",[e._v("HAWP (psi)")])]),e._v(" "),s("div",[e.$v.attachment.HAWP.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid HAWP (numeric)")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of3"},[s("q-dialog-select",{staticClass:"stacked-label",attrs:{type:"radio",options:e.options.testResults,label:"Test Result","ok-label":"Update","cancel-label":"Cancel",title:"Test Result"},on:{input:function(t){e.updateTestResults()}},model:{value:e.attachment.lastTestResult,callback:function(t){e.attachment.lastTestResult=t},expression:"attachment.lastTestResult"}})],1)])])},staticRenderFns:[]}},466:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"meter"}},[s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of3"},[s("q-select",{staticClass:"full-width",attrs:{type:"list",options:e.options.Types,label:"Meter Type",placeholder:"Meter Type"},model:{value:e.meter.type,callback:function(t){e.meter.type=t},expression:"meter.type"}})],1),e._v(" "),s("div",{staticClass:"width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.serialNumber,expression:"meter.serialNumber"}],staticClass:"full-width",domProps:{value:e.meter.serialNumber},on:{input:function(t){t.target.composing||(e.meter.serialNumber=t.target.value)}}}),e._v(" "),s("label",[e._v("Serial #")])])])]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.make,expression:"meter.make"}],staticClass:"full-width",domProps:{value:e.meter.make},on:{input:function(t){t.target.composing||(e.meter.make=t.target.value)}}}),e._v(" "),s("label",[e._v("Make")])])]),e._v(" "),s("div",{staticClass:"width-1of3"},[s("q-select",{staticClass:"full-width",attrs:{type:"list",options:e.options.Sizes,label:"Size",placeholder:"Size"},model:{value:e.meter.size,callback:function(t){e.meter.size=t},expression:"meter.size"}})],1),e._v(" "),s("div",{staticClass:"width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.reading,expression:"meter.reading"}],staticClass:"full-width",class:{"has-error":e.$v.meter.reading.$error},attrs:{type:"number"},domProps:{value:e.meter.reading},on:{input:function(t){t.target.composing||(e.meter.reading=t.target.value)},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",[e._v("Reading")])]),e._v(" "),s("div",[e.$v.meter.reading.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid meter reading (numeric).")]):e._e()])])])])},staticRenderFns:[]}},467:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"vessel"}},[s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of2 md-width-1of1"},[s("q-select",{staticClass:"full-width",attrs:{type:"list",options:e.options.TCSpecification,label:"TC Specification",placeholder:"TC Specification"},model:{value:e.vessel.TCSpecification,callback:function(t){e.vessel.TCSpecification=t},expression:"vessel.TCSpecification"}})],1),e._v(" "),s("div",{staticClass:"width-1of2 md-width-1of1"},[s("q-select",{staticClass:"full-width",attrs:{type:"list",options:e.options.PlateLocations,label:"ASME Plate Location",placeholder:"Plate Location"},model:{value:e.vessel.plateLocation,callback:function(t){e.vessel.plateLocation=t},expression:"vessel.plateLocation"}})],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of5 sm-width-1of1"},[e._v("\n\t\t\tU Stamp"),s("br"),e._v(" "),s("label",[s("q-radio",{attrs:{val:"1"},model:{value:e.vessel.uStamped,callback:function(t){e.vessel.uStamped=t},expression:"vessel.uStamped"}}),e._v("\n\t\t\t\tYes\n\t\t\t")],1),e._v(" "),s("label",[s("q-radio",{attrs:{val:"0"},model:{value:e.vessel.uStamped,callback:function(t){e.vessel.uStamped=t},expression:"vessel.uStamped"}}),e._v("\n\t\t\t\tNo\n\t\t\t")],1)]),e._v(" "),s("div",{staticClass:"width-3of5 sm-width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.listedCapacity,expression:"vessel.listedCapacity"}],staticClass:"full-width",class:{"has-error":e.$v.vessel.listedCapacity.$error},domProps:{value:e.vessel.listedCapacity},on:{input:function(t){t.target.composing||(e.vessel.listedCapacity=t.target.value)}}}),e._v(" "),s("label",[e._v("Listed Capacity")])]),e._v(" "),s("div",[e.$v.vessel.listedCapacity.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid capacity (numeric).")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of5 sm-width-1of3"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.vessel.listedCapacityUnit.$error},attrs:{type:"list",options:e.options.Units,label:"Unit",placeholder:"Unit"},model:{value:e.vessel.listedCapacityUnit,callback:function(t){e.vessel.listedCapacityUnit=t},expression:"vessel.listedCapacityUnit"}}),e._v(" "),s("div",[e.$v.vessel.listedCapacityUnit.$error?s("span",{staticClass:"text-red"},[e._v("Select a capacity unit type.")]):e._e()])],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of2 sm-width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.nationalBoardNumber,expression:"vessel.nationalBoardNumber"}],staticClass:"full-width",domProps:{value:e.vessel.nationalBoardNumber},on:{input:function(t){t.target.composing||(e.vessel.nationalBoardNumber=t.target.value)}}}),e._v(" "),s("label",[e._v("National Board Number")])])]),e._v(" "),s("div",{staticClass:"width-1of2 sm-width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.provincialNumber,expression:"vessel.provincialNumber"}],staticClass:"full-width",domProps:{value:e.vessel.provincialNumber},on:{input:function(t){t.target.composing||(e.vessel.provincialNumber=t.target.value)}}}),e._v(" "),s("label",[e._v("Provincial Number")])])])]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of2 sm-width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.manufacturer,expression:"vessel.manufacturer"}],staticClass:"full-width",domProps:{value:e.vessel.manufacturer},on:{input:function(t){t.target.composing||(e.vessel.manufacturer=t.target.value)}}}),e._v(" "),s("label",[e._v("Manufacturer")])])]),e._v(" "),s("div",{staticClass:"width-1of2 sm-width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.serialNumber,expression:"vessel.serialNumber"}],staticClass:"full-width",class:{"has-error":e.$v.vessel.serialNumber.$error},domProps:{value:e.vessel.serialNumber},on:{input:function(t){t.target.composing||(e.vessel.serialNumber=t.target.value)}}}),e._v(" "),s("label",[e._v("Serial #")])]),e._v(" "),s("div",[e.$v.vessel.serialNumber.$error?s("span",{staticClass:"text-red"},[e._v("Serial number is a required field for vessels.")]):e._e()])])]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of1"},[s("q-select",{staticClass:"stacked-label",attrs:{type:"list",options:e.yearSelect,label:"Year Built"},model:{value:e.vessel.yearBuilt,callback:function(t){e.vessel.yearBuilt=t},expression:"vessel.yearBuilt"}})],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of4 sm-width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.MAWP,expression:"vessel.MAWP"}],staticClass:"full-width",class:{"has-error":e.$v.vessel.MAWP.$error},domProps:{value:e.vessel.MAWP},on:{input:function(t){t.target.composing||(e.vessel.MAWP=t.target.value)}}}),e._v(" "),s("label",[e._v("MAWP")])]),e._v(" "),s("div",[e.$v.vessel.MAWP.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid MAWP (numeric)")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of4 sm-width-2of3"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.vessel.MAWPUnit.$error},attrs:{type:"list",options:e.options.UnitPressures,label:"Unit",placeholder:"Unit"},model:{value:e.vessel.MAWPUnit,callback:function(t){e.vessel.MAWPUnit=t},expression:"vessel.MAWPUnit"}}),e._v(" "),s("div",[e.$v.vessel.MAWPUnit.$error?s("span",{staticClass:"text-red"},[e._v("Select a MAWP unit.")]):e._e()])],1),e._v(" "),s("div",{staticClass:"width-1of4 sm-width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.MDMT,expression:"vessel.MDMT"}],staticClass:"full-width",class:{"has-error":e.$v.vessel.MDMT.$error},domProps:{value:e.vessel.MDMT},on:{input:function(t){t.target.composing||(e.vessel.MDMT=t.target.value)}}}),e._v(" "),s("label",[e._v("MDMT")])]),e._v(" "),s("div",[e.$v.vessel.MDMT.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid MDMT (numeric)")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of4 sm-width-2of3"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.vessel.MDMTUnit.$error},attrs:{type:"list",options:e.options.UnitTemperatures,label:"Unit",placeholder:"Unit"},model:{value:e.vessel.MDMTUnit,callback:function(t){e.vessel.MDMTUnit=t},expression:"vessel.MDMTUnit"}}),e._v(" "),s("div",[e.$v.vessel.MDMTUnit.$error?s("span",{staticClass:"text-red"},[e._v("Select a MDMT unit.")]):e._e()])],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of2 sm-width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.CRNorTCRN,expression:"vessel.CRNorTCRN"}],staticClass:"full-width",domProps:{value:e.vessel.CRNorTCRN},on:{input:function(t){t.target.composing||(e.vessel.CRNorTCRN=t.target.value)}}}),e._v(" "),s("label",[e._v("CRN or TCRN")])])]),e._v(" "),s("div",{staticClass:"width-1of2 sm-width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.alteredBy,expression:"vessel.alteredBy"}],staticClass:"full-width",domProps:{value:e.vessel.alteredBy},on:{input:function(t){t.target.composing||(e.vessel.alteredBy=t.target.value)}}}),e._v(" "),s("label",[e._v("Altered By")])])])]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of5 sm-width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.diameter,expression:"vessel.diameter"}],staticClass:"full-width",class:{"has-error":e.$v.vessel.diameter.$error},domProps:{value:e.vessel.diameter},on:{input:function(t){t.target.composing||(e.vessel.diameter=t.target.value)}}}),e._v(" "),s("label",[e._v("Diameter")])]),e._v(" "),s("div",[e.$v.vessel.diameter.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid diameter (numeric).")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of5 sm-width-1of3"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.vessel.diameterUnit.$error},attrs:{type:"list",options:e.options.UnitLengths,label:"Unit",placeholder:"Unit"},model:{value:e.vessel.diameterUnit,callback:function(t){e.vessel.diameterUnit=t},expression:"vessel.diameterUnit"}}),e._v(" "),s("div",[e.$v.vessel.diameterUnit.$error?s("span",{staticClass:"text-red"},[e._v("Select a diameter unit.")]):e._e()])],1),e._v(" "),s("div",{staticClass:"width-1of5 sm-width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.headMaterial,expression:"vessel.headMaterial"}],staticClass:"full-width",domProps:{value:e.vessel.headMaterial},on:{input:function(t){t.target.composing||(e.vessel.headMaterial=t.target.value)}}}),e._v(" "),s("label",[e._v("Head Material")])])]),e._v(" "),s("div",{staticClass:"width-1of5 sm-width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.headThickness,expression:"vessel.headThickness"}],staticClass:"full-width",class:{"has-error":e.$v.vessel.headThickness.$error},domProps:{value:e.vessel.headThickness},on:{input:function(t){t.target.composing||(e.vessel.headThickness=t.target.value)}}}),e._v(" "),s("label",[e._v("Head Thickness")])]),e._v(" "),s("div",[e.$v.vessel.headThickness.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid head thickness (numeric).")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of5 sm-width-1of3"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.vessel.headThicknessUnit.$error},attrs:{type:"list",options:e.options.UnitLengths,label:"Unit",placeholder:"Unit"},model:{value:e.vessel.headThicknessUnit,callback:function(t){e.vessel.headThicknessUnit=t},expression:"vessel.headThicknessUnit"}}),e._v(" "),s("div",[e.$v.vessel.headThicknessUnit.$error?s("span",{staticClass:"text-red"},[e._v("Select a head thickness unit.")]):e._e()])],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-2of5 sm-width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.shellMaterial,expression:"vessel.shellMaterial"}],staticClass:"full-width",domProps:{value:e.vessel.shellMaterial},on:{input:function(t){t.target.composing||(e.vessel.shellMaterial=t.target.value)}}}),e._v(" "),s("label",[e._v("Shell Material")])])]),e._v(" "),s("div",{staticClass:"width-2of5 sm-width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.shellThickness,expression:"vessel.shellThickness"}],staticClass:"full-width",class:{"has-error":e.$v.vessel.shellThickness.$error},domProps:{value:e.vessel.shellThickness},on:{input:function(t){t.target.composing||(e.vessel.shellThickness=t.target.value)}}}),e._v(" "),s("label",[e._v("Shell Thickness")])]),e._v(" "),s("div",[e.$v.vessel.shellThickness.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid shell thickness (numeric).")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of5 sm-width-1of3"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.vessel.shellThicknessUnit.$error},attrs:{type:"list",options:e.options.UnitLengths,label:"Unit",placeholder:"Unit"},model:{value:e.vessel.shellThicknessUnit,callback:function(t){e.vessel.shellThicknessUnit=t},expression:"vessel.shellThicknessUnit"}}),e._v(" "),s("div",[e.$v.vessel.shellThicknessUnit.$error?s("span",{staticClass:"text-red"},[e._v("Select a shell thickness unit.")]):e._e()])],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-2of5 sm-width-1of1"},[s("q-select",{staticClass:"full-width",attrs:{type:"list",options:e.options.HeadTypes,label:"Head Type",placeholder:"Head Type"},model:{value:e.vessel.headType,callback:function(t){e.vessel.headType=t},expression:"vessel.headType"}})],1),e._v(" "),s("div",{staticClass:"width-2of5 sm-width-2of3"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vessel.seamToSeamLength,expression:"vessel.seamToSeamLength"}],staticClass:"full-width",class:{"has-error":e.$v.vessel.seamToSeamLength.$error},domProps:{value:e.vessel.seamToSeamLength},on:{input:function(t){t.target.composing||(e.vessel.seamToSeamLength=t.target.value)}}}),e._v(" "),s("label",[e._v("Seam-to-Seam Length")])]),e._v(" "),s("div",[e.$v.vessel.seamToSeamLength.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid seam length (numeric).")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of5 sm-width-1of3"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.vessel.seamToSeamLengthUnit.$error},attrs:{type:"list",options:e.options.UnitLengths,label:"Unit",placeholder:"Unit"},model:{value:e.vessel.seamToSeamLengthUnit,callback:function(t){e.vessel.seamToSeamLengthUnit=t},expression:"vessel.seamToSeamLengthUnit"}}),e._v(" "),s("div",[e.$v.vessel.seamToSeamLengthUnit.$error?s("span",{staticClass:"text-red"},[e._v("Select a seam length unit.")]):e._e()])],1)]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of2 sm-width-1of1"},[s("q-select",{staticClass:"full-width",attrs:{type:"list",options:e.options.ConstructedOf,label:"Tank is Constructed Of",placeholder:"Tank is Constructed Of"},model:{value:e.vessel.constructedOf,callback:function(t){e.vessel.constructedOf=t},expression:"vessel.constructedOf"}})],1),e._v(" "),s("div",{staticClass:"width-1of2 sm-width-1of1"},[e._v("\n\t\t\tTank stress relieved after manufacture"),s("br"),e._v(" "),s("label",[s("q-radio",{attrs:{val:"1"},model:{value:e.vessel.stressRelieved,callback:function(t){e.vessel.stressRelieved=t},expression:"vessel.stressRelieved"}}),e._v("\n\t\t\t\tYes\n\t\t\t")],1),e._v(" "),s("label",[s("q-radio",{attrs:{val:"0"},model:{value:e.vessel.stressRelieved,callback:function(t){e.vessel.stressRelieved=t},expression:"vessel.stressRelieved"}}),e._v("\n\t\t\t\tNo\n\t\t\t")],1)])]),e._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-title bg-primary text-white"},[e._v("\n\t\t\tMeters\n\t\t")]),e._v(" "),s("div",{staticClass:"card-content card-force-top-padding"},[e.vessel.id?s("q-data-table",{ref:"meterTable",attrs:{data:e.meters,config:e.config.meters.table,columns:e.config.meters.columns},scopedSlots:e._u([["col-id",function(t){return[s("button",{staticClass:"secondary small circular",on:{click:function(s){e.editMeter(t.row)}}},[s("i",[e._v("edit")])])]}]])}):e._e(),e._v(" "),s("button",{staticClass:"primary float-right generic-margin",on:{click:function(t){e.editMeter()}}},[e._v("\n\t\t\t\tAdd Meter\n\t\t\t")])],1)]),e._v(" "),s("q-modal",{ref:"meterModal",staticClass:"maximized",attrs:{"content-css":{padding:"50px"}}},[s("q-layout",[s("div",{staticClass:"toolbar",slot:"header"},[s("button",{on:{click:e.cancelMeter}},[s("i",[e._v("keyboard_arrow_left")])]),e._v(" "),s("q-toolbar-title",{attrs:{padding:1}},[e.current.meterId?[e._v("Edit Meter")]:e._e(),e._v(" "),e.current.meterId?e._e():[e._v("Add Meter")]],2)],1),e._v(" "),s("div",{staticClass:"layout-view"},[s("div",{staticClass:"layout-padding form-margin"},[s("meters",{ref:"meterEditor",attrs:{meter:e.current.meter},on:{input:e.update}}),e._v(" "),s("hr",{staticStyle:{clear:"both"}}),e._v(" "),s("button",{staticClass:"warning float-right generic-margin",on:{click:function(t){e.cancelMeter()}}},[e._v("\n\t\t\t\t\t\tCancel Meter\n\t\t\t\t\t")]),e._v(" "),s("button",{staticClass:"positive float-right generic-margin",on:{click:function(t){e.saveMeter()}}},[e._v("\n\t\t\t\t\t\tSave Meter\n\t\t\t\t\t")])],1)])])],1)],1)},staticRenderFns:[]}},468:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"transport"}},[s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of2"},[s("q-select",{staticClass:"full-width",class:{"has-error":e.$v.transport.type.$error},attrs:{type:"list",options:e.options.Types,label:"Transport Type",placeholder:"Transport Type"},model:{value:e.transport.type,callback:function(t){e.transport.type=t},expression:"transport.type"}}),e._v(" "),s("div",[e.$v.transport.type.$error?s("span",{staticClass:"text-red"},[e._v("Transport type is a required field.")]):e._e()])],1),e._v(" "),s("div",{staticClass:"width-1of2"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transport.name,expression:"transport.name"}],staticClass:"full-width",domProps:{value:e.transport.name},on:{input:function(t){t.target.composing||(e.transport.name=t.target.value)}}}),e._v(" "),s("label",[e._v("Name")])])])]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of4 md-width-1of2"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transport.engineSerialNumber,expression:"transport.engineSerialNumber"}],staticClass:"full-width",domProps:{value:e.transport.engineSerialNumber},on:{input:function(t){t.target.composing||(e.transport.engineSerialNumber=t.target.value)}}}),e._v(" "),s("label",[e._v("Engine Serial #")])])]),e._v(" "),s("div",{staticClass:"width-1of4 md-width-1of2"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transport.engineHours,expression:"transport.engineHours"}],staticClass:"full-width",class:{"has-error":e.$v.transport.engineHours.$error},domProps:{value:e.transport.engineHours},on:{input:function(t){t.target.composing||(e.transport.engineHours=t.target.value)}}}),e._v(" "),s("label",[e._v("Engine Hours")])]),e._v(" "),s("div",[e.$v.transport.engineHours.$error?s("span",{staticClass:"text-red"},[e._v("Enter a valid number for engine hours.")]):e._e()])]),e._v(" "),s("div",{staticClass:"width-1of4 md-width-1of2"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transport.chassisSerialNumber,expression:"transport.chassisSerialNumber"}],staticClass:"full-width",domProps:{value:e.transport.chassisSerialNumber},on:{input:function(t){t.target.composing||(e.transport.chassisSerialNumber=t.target.value)}}}),e._v(" "),s("label",[e._v("Chassis Serial #")])])]),e._v(" "),s("div",{staticClass:"width-1of4 md-width-1of2"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transport.licensePlate,expression:"transport.licensePlate"}],staticClass:"full-width",domProps:{value:e.transport.licensePlate},on:{input:function(t){t.target.composing||(e.transport.licensePlate=t.target.value)}}}),e._v(" "),s("label",[e._v("License Plate")])])])]),e._v(" "),s("div",{staticClass:"row gutter"},[s("div",{staticClass:"width-1of1"},[s("div",{staticClass:"stacked-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transport.manufacturer,expression:"transport.manufacturer"}],staticClass:"full-width",domProps:{value:e.transport.manufacturer},on:{input:function(t){t.target.composing||(e.transport.manufacturer=t.target.value)}}}),e._v(" "),s("label",[e._v("Manufacturer")])])])])])},staticRenderFns:[]}},499:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(64),i=s.n(a),r=s(439),n=s.n(r),l=s(438),o=s.n(l),c=s(20),u=(s.n(c),s(459)),d=s.n(u),v=s(417),h=s.n(v);t.default={name:"addinspection",components:{asset:d.a,fab:h.a},data:function(){return{job:{},answers:[],assets:[],companies:[],config:{vessels:{table:{rowHeight:"55px",refresh:!1,leftStickyColumns:1,selection:!1},columns:[{label:"Serial #",field:"serialNumber",width:"120px",filter:!0},{label:"Manufacturer",field:"manufacturer",width:"120px",filter:!0},{label:"Actions",field:"id",format:function(e){return"Actions"},sort:!1,filter:!1,width:"50px"}]}},current:{asset:{},assetId:null,attachments:[],transports:[],vessels:[]},locations:[],options:{assetTypes:[{label:"Farm Wagon",value:"farm"},{label:"Highway Tanks",value:"highway"},{label:"Portable Tanks",value:"portable"},{label:"LPG Storage Vessel",value:"LPG"},{label:"NH3 Storage Vessel",value:"NH3"}],TCSpecification:[{label:"--- NOT APPLICABLE ---",value:"--- NOT APPLICABLE ---"},{label:"MC 330",value:"MC 330"},{label:"MC 331",value:"MC 331"},{label:"MC 331/TC 331",value:"MC 331/TC 331"},{label:"TC 51",value:"TC 51"},{label:"TC 60",value:"TC 60"},{label:"TC 331",value:"TC 331"},{label:"TC 338",value:"TC 338"},{label:"TC 350",value:"TC 350"},{label:"TC 406",value:"TC 406"},{label:"TC 407",value:"TC 407"},{label:"TC 412",value:"TC 412"},{label:"Exempt as per CSA B622-09 SR 54",value:"Exempt as per CSA B622-09 SR 54"},{label:"Exempt as per CSA B622-09 SR 55",value:"Exempt as per CSA B622-09 SR 55"},{label:"Exempt as per CSA B622-09 SR 73",value:"Exempt as per CSA B622-09 SR 73"}]},selected:{asset:{},assetId:null,company:{},companyId:null,location:{},locationId:null,companyLocationID:null,template:{},templateId:null},assetSearchTerm:"",templates:[]}},computed:{validCompanies:function(e){var t=[];return this.companies.forEach(function(e){t.push({label:e.name,value:e.id})}),t.sort(this.selectSort)},locationSelect:function(){var e=[],t=this;return t.selected.companyId?(this.locations.forEach(function(s){t.selected.companyId&&s.companyid!=t.selected.companyId||e.push({label:s.name+", "+s.address1+", "+s.city+", "+s.region,value:s.id})}),e.sort(this.selectSort)):e},assetSearchSelect:function(){var e=[],t=this;return t.selected.companyId?(this.assets.forEach(function(s){s.companyid==t.selected.companyId&&e.push({label:""+s.name,value:""+s.name,id:null!==s.id?s.id:s.appGeneratedID})}),e.sort(this.selectSort)):e},validTemplates:function(e,t){var s=[],a=this.templates.filter(function(e,t){var a=s.includes(e.id);return s.push(e.id),!a}),i=[];return a.forEach(function(e){i.push({label:e.name,value:e.id})}),i.sort(this.selectSort)}},created:function(){var e=this;c.Loading.show(),setTimeout(function(){e.$store.dispatch("fetchItems",{name:"companies"}).then(function(t){e.companies=t}),e.$store.dispatch("fetchItems",{name:"templates"}).then(function(t){e.templates=t}),e.$route.params.jobid&&e.$store.dispatch("fetchItem",{type:"jobs",lookup:"id",value:parseInt(e.$route.params.jobid),field:"*"}).then(function(t){e.$set(e,"job",t),e.$set(e.selected,"companyid",t.companyid),e.$set(e.selected,"companyId",t.companyid)});var t=e.$store.getters.assetFields;setTimeout(function(){e.locations=e.$store.getters.locations.items,e.$set(e.selected,"companyLocationID",e.job.companyLocationID),e.$set(e.selected,"locationId",e.job.companyLocationID)},1e3),setTimeout(function(){e.assets=e.$store.getters.assets.items},2e3),t.forEach(function(t){e.$set(e.current.asset,t,null)}),e.$watch("selected.companyId",function(e){var t=this;this.companies.forEach(function(s){s.id===e&&t.$set(t.selected,"company",s)}),this.$set(this.selected,"locationId",null),this.$set(this.selected,"assetId",null)}),e.$watch("selected.locationId",function(e){var t=this;this.locations.forEach(function(s){s.id===e&&(t.$set(t.selected,"location",s),t.$set(t.selected,"companyLocationId",s.id))}),this.$set(this.selected,"assetId",null)}),e.$watch("selected.assetId",function(e){var t=this;this.assets.forEach(function(s){s.id===e&&t.$set(t.selected,"asset",s)}),this.$set(this.current,"attachments",[]),this.$set(this.current,"transports",[]),this.$set(this.current,"vessels",[]),this.$store.dispatch("fetchItems",{name:"vessels",lookup:"assetid",value:e,field:"*"}).then(function(e){t.current.vessels=e})}),e.$watch("selected.templateId",function(e){var t=this;this.templates.forEach(function(s){if(s.id===e){t.$set(t.selected,"template",s),t.$set(t,"answers",[]);var a=new o.a;t.selected.template.templateCategories.forEach(function(e){a.add(e.categoryid)}),t.$store.dispatch("fetchItems",{name:"questions",lookup:"categoryid",value:[].concat(n()(a)),field:"*"}).then(function(e){[].concat(n()(a)).forEach(function(a){var i=[];e.forEach(function(e){if(e.deletedAt&&console.log("Question ID: "+e.id+" - Category ID: "+e.categoryid+" has deleted at field set."),e.categoryid!==a||e.deletedAt)return void i.push(e.id);if(e.overrideByTemplateIDs){var t=e.overrideByTemplateIDs.toString().split(","),r=!1;if(t.forEach(function(e){e==s.id&&(r=!0)}),r)return void i.push(e.id)}}),e.forEach(function(e){if(i.includes(e.id))return void console.log("Excluding question with id of "+e.id);t.answers.push({inspectionid:null,categoryid:a,questionid:e.id,userid:null,isrequired:e.isrequired,answer:null,comment:null,defectOutcome:null,created:!1})})})})}})}),c.Loading.hide()},1e3)},methods:{selectSort:function(e,t){return e.label<t.label?-1:e.label>t.label?1:0},assetSearch:function(e,t){var s=this.assetSearchSelect.filter(function(t){return t.label.toLowerCase().includes(e.toLowerCase())}).sort(this.selectSort);s||(s=[],s.push({label:"No matching assets.",value:"",id:null})),t(s)},assetSelected:function(e){this.$set(this.selected,"assetId",null!==e.id?e.id:e.appGeneratedID)},createInspection:function(){this.$store.commit("inspection",{jobid:this.$route.params.jobid,companyid:this.selected.companyId,locationid:this.selected.locationId,assetid:this.selected.assetId,answers:this.answers}),c.Toast.create.positive("New inspection added successfully."),this.$router.push({name:"dashboard"})},openAsset:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t)this.$set(this.current,"assetId",t),this.$set(this.current,"asset",JSON.parse(i()(this.selected.asset)));else{this.$set(this.current,"asset",{});this.$store.getters.assetFields.forEach(function(t){e.$set(e.current.asset,t,null)}),this.$set(this.current.asset,"id",c.Utils.uid()),this.$set(this.current.asset,"appGeneratedID",this.current.asset.id),this.$set(this.current.asset,"locationid",this.selected.locationId),this.$set(this.current.asset,"companyid",this.selected.companyId)}this.$refs.assetModal.open()},cancelAsset:function(){this.$set(this.current,"asset",{}),this.$set(this.current,"assetId",null),this.$refs.assetModal.close()},saveAsset:function(){var e=this;this.$set(this.current,"assetId",this.current.asset.id);var t=!1;this.assets.forEach(function(s,a){s.id===e.current.assetId&&(t=a)}),!1===t?this.assets.push(this.current.asset):this.assets[t]=this.current.asset,this.$refs.assetModal.close(),this.selected.assetId=this.current.assetId,this.$store.commit("asset",this.current.asset)},update:function(e){console.log("inspection update",e)}}}},586:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"addinspection"}},[s("fab"),e._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-title bg-primary text-white"},[e._v("\n\t\t\tAdd Inspection\n\t\t")]),e._v(" "),s("div",{staticClass:"card-content card-force-top-padding"},[s("q-dialog-select",{attrs:{type:"radio",options:e.validCompanies,"ok-label":"Done","cancel-label":"Cancel",title:"Select a Company",placeholder:"Select Company",readonly:""},model:{value:e.selected.companyId,callback:function(t){e.selected.companyId=t},expression:"selected.companyId"}}),e._v(" "),s("br"),e._v(" "),s("q-select",{class:{disabled:!e.selected.companyId},attrs:{type:"list",options:e.locationSelect,placeholder:"Select Location",readonly:e.selected.locationId&&e.selected.locationId.length>0},model:{value:e.selected.locationId,callback:function(t){e.selected.locationId=t},expression:"selected.locationId"}}),e._v(" "),s("br"),e._v(" "),s("q-autocomplete",{ref:"assetSearch",class:{disabled:!e.selected.locationId},attrs:{delay:300,"max-results":10,delimiter:!0},on:{search:e.assetSearch,selected:e.assetSelected},model:{value:e.assetSearchTerm,callback:function(t){e.assetSearchTerm=t},expression:"assetSearchTerm"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.assetSearchTerm,expression:"assetSearchTerm"}],attrs:{placeholder:"Start Typing (Asset Name)"},domProps:{value:e.assetSearchTerm},on:{input:function(t){t.target.composing||(e.assetSearchTerm=t.target.value)}}})]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.selected.assetId,expression:"selected.assetId"}],staticClass:"primary small circular",on:{click:function(t){e.openAsset(e.selected.assetId)}}},[s("i",[e._v("edit")])]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.selected.locationId,expression:"selected.locationId"}],staticClass:"secondary small circular",on:{click:function(t){e.openAsset()}}},[s("i",[e._v("add")])]),e._v(" "),s("hr"),e._v(" "),s("q-select",{attrs:{type:"list",options:e.validTemplates,placeholder:"Select Inspection Template"},model:{value:e.selected.templateId,callback:function(t){e.selected.templateId=t},expression:"selected.templateId"}}),e._v(" "),s("br"),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.selected.companyId&&e.selected.locationId&&e.selected.assetId&&e.selected.templateId&&e.answers.length,expression:"selected.companyId && selected.locationId && selected.assetId && selected.templateId && answers.length"}],staticClass:"primary float-right generic-margin",on:{click:e.createInspection}},[e._v("Create")])],1)]),e._v(" "),s("q-modal",{ref:"assetModal",staticClass:"maximized",attrs:{"content-css":{padding:"50px"}}},[s("q-layout",[s("div",{staticClass:"toolbar",slot:"header"},[s("button",{on:{click:e.cancelAsset}},[s("i",[e._v("keyboard_arrow_left")])]),e._v(" "),s("q-toolbar-title",{attrs:{padding:1}},[e.current.assetId?[e._v("Edit Asset")]:e._e(),e._v(" "),e.current.assetId?e._e():[e._v("Add Asset")]],2)],1),e._v(" "),s("div",{staticClass:"layout-view"},[s("div",{staticClass:"layout-padding form-margin"},[s("asset",{attrs:{asset:e.current.asset},on:{input:e.update}}),e._v(" "),s("hr",{staticStyle:{clear:"both"}}),e._v(" "),s("button",{staticClass:"warning float-right generic-margin",on:{click:function(t){e.cancelAsset()}}},[e._v("\n\t\t\t\t\t\tCancel Asset\n\t\t\t\t\t")]),e._v(" "),s("button",{staticClass:"positive float-right generic-margin",on:{click:function(t){e.saveAsset()}}},[e._v("\n\t\t\t\t\t\tSave Asset\n\t\t\t\t\t")])],1)])])],1)],1)},staticRenderFns:[]}}});