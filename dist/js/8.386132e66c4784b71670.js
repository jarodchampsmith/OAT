webpackJsonp([8],{406:function(t,e,s){function n(t){s(540)}var o=s(240)(s(504),s(594),n,null,null);t.exports=o.exports},436:function(t,e,s){var n=s(70)("meta"),o=s(29),i=s(31),r=s(27).f,a=0,c=Object.isExtensible||function(){return!0},u=!s(41)(function(){return c(Object.preventExtensions({}))}),p=function(t){r(t,n,{value:{i:"O"+ ++a,w:{}}})},l=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,n)){if(!c(t))return"F";if(!e)return"E";p(t)}return t[n].i},d=function(t,e){if(!i(t,n)){if(!c(t))return!0;if(!e)return!1;p(t)}return t[n].w},f=function(t){return u&&h.NEED&&c(t)&&!i(t,n)&&p(t),t},h=t.exports={KEY:n,NEED:!1,fastKey:l,getWeak:d,onFreeze:f}},437:function(t,e,s){t.exports={default:s(440),__esModule:!0}},438:function(t,e,s){t.exports={default:s(441),__esModule:!0}},439:function(t,e,s){"use strict";e.__esModule=!0;var n=s(437),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return(0,o.default)(t)}},440:function(t,e,s){s(42),s(451),t.exports=s(7).Array.from},441:function(t,e,s){s(253),s(42),s(46),s(452),s(453),t.exports=s(7).Set},442:function(t,e,s){var n=s(241);t.exports=function(t,e){var s=[];return n(t,!1,s.push,s,e),s}},443:function(t,e,s){var n=s(28),o=s(246),i=s(66),r=s(65),a=s(445);t.exports=function(t,e){var s=1==t,c=2==t,u=3==t,p=4==t,l=6==t,d=5==t||l,f=e||a;return function(e,a,h){for(var y,g,m=i(e),v=o(m),w=n(a,h,3),S=r(v.length),T=0,E=s?f(e,S):c?f(e,0):void 0;S>T;T++)if((d||T in v)&&(y=v[T],g=w(y,T,m),t))if(s)E[T]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return T;case 2:E.push(y)}else if(p)return!1;return l?-1:u||p?p:E}}},444:function(t,e,s){var n=s(29),o=s(450),i=s(5)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},445:function(t,e,s){var n=s(444);t.exports=function(t,e){return new(n(t))(e)}},446:function(t,e,s){"use strict";var n=s(27).f,o=s(251),i=s(245),r=s(28),a=s(244),c=s(44),u=s(241),p=s(68),l=s(250),d=s(252),f=s(21),h=s(436).fastKey,y=f?"_s":"size",g=function(t,e){var s,n=h(e);if("F"!==n)return t._i[n];for(s=t._f;s;s=s.n)if(s.k==e)return s};t.exports={getConstructor:function(t,e,s,p){var l=t(function(t,n){a(t,l,e,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=n&&u(n,s,t[p],t)});return i(l.prototype,{clear:function(){for(var t=this,e=t._i,s=t._f;s;s=s.n)s.r=!0,s.p&&(s.p=s.p.n=void 0),delete e[s.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var e=this,s=g(e,t);if(s){var n=s.n,o=s.p;delete e._i[s.i],s.r=!0,o&&(o.n=n),n&&(n.p=o),e._f==s&&(e._f=n),e._l==s&&(e._l=o),e[y]--}return!!s},forEach:function(t){a(this,l,"forEach");for(var e,s=r(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(s(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!g(this,t)}}),f&&n(l.prototype,"size",{get:function(){return c(this[y])}}),l},def:function(t,e,s){var n,o,i=g(t,e);return i?i.v=s:(t._l=i={i:o=h(e,!0),k:e,v:s,p:n=t._l,n:void 0,r:!1},t._f||(t._f=i),n&&(n.n=i),t[y]++,"F"!==o&&(t._i[o]=i)),t},getEntry:g,setStrong:function(t,e,s){p(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,s=t._l;s&&s.r;)s=s.p;return t._t&&(t._l=s=s?s.n:t._t._f)?"keys"==e?l(0,s.k):"values"==e?l(0,s.v):l(0,[s.k,s.v]):(t._t=void 0,l(1))},s?"entries":"values",!s,!0),d(e)}}},447:function(t,e,s){var n=s(43),o=s(442);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},448:function(t,e,s){"use strict";var n=s(8),o=s(40),i=s(436),r=s(41),a=s(13),c=s(245),u=s(241),p=s(244),l=s(29),d=s(45),f=s(27).f,h=s(443)(0),y=s(21);t.exports=function(t,e,s,g,m,v){var w=n[t],S=w,T=m?"set":"add",E=S&&S.prototype,A={};return y&&"function"==typeof S&&(v||E.forEach&&!r(function(){(new S).entries().next()}))?(S=e(function(e,s){p(e,S,t,"_c"),e._c=new w,void 0!=s&&u(s,m,e[T],e)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in E&&(!v||"clear"!=t)&&a(S.prototype,t,function(s,n){if(p(this,S,t),!e&&v&&!l(s))return"get"==t&&void 0;var o=this._c[t](0===s?0:s,n);return e?this:o})}),"size"in E&&f(S.prototype,"size",{get:function(){return this._c.size}})):(S=g.getConstructor(e,t,m,T),c(S.prototype,s),i.NEED=!0),d(S,t),A[t]=S,o(o.G+o.W+o.F,A),v||g.setStrong(S,t,m),S}},449:function(t,e,s){"use strict";var n=s(27),o=s(69);t.exports=function(t,e,s){e in t?n.f(t,e,o(0,s)):t[e]=s}},450:function(t,e,s){var n=s(30);t.exports=Array.isArray||function(t){return"Array"==n(t)}},451:function(t,e,s){"use strict";var n=s(28),o=s(40),i=s(66),r=s(248),a=s(247),c=s(65),u=s(449),p=s(71);o(o.S+o.F*!s(249)(function(t){Array.from(t)}),"Array",{from:function(t){var e,s,o,l,d=i(t),f="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,g=void 0!==y,m=0,v=p(d);if(g&&(y=n(y,h>2?arguments[2]:void 0,2)),void 0==v||f==Array&&a(v))for(e=c(d.length),s=new f(e);e>m;m++)u(s,m,g?y(d[m],m):d[m]);else for(l=v.call(d),s=new f;!(o=l.next()).done;m++)u(s,m,g?r(l,y,[o.value,m],!0):o.value);return s.length=m,s}})},452:function(t,e,s){"use strict";var n=s(446);t.exports=s(448)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(this,t=0===t?0:t,t)}},n)},453:function(t,e,s){var n=s(40);n(n.P+n.R,"Set",{toJSON:s(447)("Set")})},504:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(439),o=s.n(n),i=s(438),r=s.n(i),a=s(64),c=s.n(a),u=s(39),p=s(0),l=s.n(p),d=s(20);s.n(d);e.default={name:"sync",components:{},data:function(){return{posters:["assets"],postCounts:{photos:0,answers:0,inspections:0,assets:0,vessels:0,attachments:0,transports:0,meters:0},subPosterCount:0,postersCount:0,subPosters:["inspections","vessels","attachments","transports"],tertiaryPosters:["meters","photos","answers"],stage:"put",syncEndpoints:0,syncMessage:"Syncing with OATS website...",syncMessages:[],syncPostSteps:0,syncProgress:0,syncs:[],syncedPhotos:[],syncSteps:0,syncStepsTaken:0,syncTotal:0,syncComplete:!1,timeDelay:0,inProgress:0}},watch:{syncMessage:function(t){this.syncMessages.push(t)},syncStepsTaken:function(t){"put"===this.stage&&this.syncPostSteps},postersCount:function(t){var e=this,s=this;t>=this.postCounts.assets&&this.subPosters.forEach(function(t){console.log("Running sub poster for "+t),s.puts(t,!1,function(n,o){"vessels"===t&&(s.$store.dispatch("fetchItems",{name:"meters",lookup:"vesselid",value:n,field:"*"}).then(function(t){t.forEach(function(t){s.$store.commit("updateVesselId",{item:t,id:o})}),t.length>0&&(console.log("Re-putting meters with updated id's"),s.puts("meters",!1))}),e.subPosterCount+=1),"inspections"===t&&(console.log("Updating answer inspection ids."),s.$store.dispatch("fetchItems",{name:"answers",lookup:"inspectionid",value:n,field:"*"}).then(function(t){console.log("found answers to update ids for"),console.log(t),t.forEach(function(t){s.$store.commit("answerInspectionId",{answer:t,id:o})}),console.log("Re-putting answers with updated id's"),setTimeout(function(){s.puts("answers",!0)},1e3)}),s.$store.dispatch("fetchItems",{name:"photos",lookup:"inspectionid",value:n,field:"*"}).then(function(t){t.forEach(function(t){s.$store.commit("photoInspectionId",{photo:t,id:o})}),console.log("Re-putting photos with updated id's"),setTimeout(function(){s.puts("photos",!0)},1e3)}),s.subPposterCount+=1)},function(){"inspections"===t&&setTimeout(function(){s.puts("answers",!0),s.puts("photos",!0)},1e3),s.subPosterCount+=1},function(){s.subPosterCount+=1})})},subPosterCount:function(t){var e=this,s=this;t>=this.postCounts.vessels+this.postCounts.transports+this.postCounts.attachments+this.postCounts.inspections&&(this.tertiaryPosters.forEach(function(t){"answers"===t||"photos"===t?e.puts(t,!0):e.puts(t,!1)}),setTimeout(function(){console.log("running gets"),s.stage="get",s.gets()},6e3))}},mounted:function(){var t=this;d.Events.$off("inspection:complete"),d.Events.$on("inspection:complete",function(e){console.log("Firing inspection complete sync action."),t.$store.getters.currentUser.ID&&t.$store.getters.isOnline&&t.postSyncAction("INSPECTION",e.id,"COMPLETE")}),setTimeout(function(){var e=this;try{if(t.$store.getters.isOnline||window.pdb.get("oatsdb").then(function(e){t.$store.replaceState(e.state),t.syncMessage="Completed offline sync.",d.Events.$emit("sync:complete"),d.Toast.create.positive({html:"You are currently working offline, please sync all changes next time you are online.",timeout:3e3}),t.$router.push("dashboard")}).catch(function(t){console.log(t),d.Events.$emit("sync:error"),d.Toast.create.negative({html:"There was an error syncing the application, you may need to connect to the internet and perform a sync.",timeout:3e3})}),"firstImport"===t.$store.getters.importStatus)return t.$router.push("dashboard"),d.Events.$emit("sync:complete"),void t.$store.commit("setImportStatus","importComplete");t.$store.getters.currentUser.ID&&t.$store.getters.isOnline&&(t.syncMessages.push("Checking for new sync actions..."),t.checkSyncActions(),t.syncMessages.push("Checking for changes..."),console.log("checking for changes"),t.posters.forEach(function(s){t.puts(s,!1,function(n,o){console.log("running added callback with app ID of "+n+" and id of "+o+" for "+s),"assets"===s&&(t.$store.dispatch("fetchItems",{name:"inspections",lookup:"assetid",value:n,field:"*"}).then(function(e){e.forEach(function(e){t.$store.commit("inspectionAssetId",{inspection:e,id:o})}),console.log("Re-putting inspections with updated id's"),t.puts("inspections",!1,function(e,s){console.log("Updating answer inspection ids."),t.$store.dispatch("fetchItems",{name:"answers",lookup:"inspectionid",value:e,field:"*"}).then(function(e){console.log("found answers to update ids for"),console.log(e),e.forEach(function(e){t.$store.commit("answerInspectionId",{answer:e,id:s})}),console.log("Re-putting answers with updated id's"),setTimeout(function(){t.puts("answers",!0)},1e3)}),t.$store.dispatch("fetchItems",{name:"photos",lookup:"inspectionid",value:e,field:"*"}).then(function(e){e.forEach(function(e){t.$store.commit("photoInspectionId",{photo:e,id:s})}),console.log("Re-putting photos with updated id's"),setTimeout(function(){t.puts("photos",!0)},1e3)})},function(){"inspections"===s&&setTimeout(function(){t.puts("answers",!0),t.puts("photos",!0)},1e3)},function(){})}),t.$store.dispatch("fetchItems",{name:"attachments",lookup:"assetid",value:n,field:"*"}).then(function(e){e.forEach(function(e){t.$store.commit("inspectionAssetId",{inspection:e,id:o})}),console.log("Re-putting attachments with updated id's"),t.puts("attachments",!1)}),t.$store.dispatch("fetchItems",{name:"transports",lookup:"assetid",value:n,field:"*"}).then(function(e){e.forEach(function(e){t.$store.commit("inspectionAssetId",{inspection:e,id:o})}),console.log("Re-putting transports with updated id's"),t.puts("transports",!1)}),t.$store.dispatch("fetchItems",{name:"vessels",lookup:"assetid",value:n,field:"*"}).then(function(e){e.forEach(function(e){t.$store.commit("inspectionAssetId",{inspection:e,id:o}),t.puts("vessels",!1,function(e,s){t.$store.dispatch("fetchItems",{name:"meters",lookup:"vesselid",value:e,field:"*"}).then(function(e){e.forEach(function(e){t.$store.commit("updateVesselId",{item:e,id:s})}),e.length>0&&(console.log("Re-putting meters with updated id's"),t.puts("meters",!1))})},function(){},function(){})})}),e.postersCount+=1)},function(){"assets"===s&&(t.postersCount+=1)},function(){t.postersCount+=1})}),t.syncPostSteps)}catch(e){t.$root.logError("syncError","error",1,{name:e.name,message:e.message},{details:"Unknown error occured while performing sync operation in sync.js"}),d.Toast.create.negative({html:"An error occured during the sync operation. The error has been submitted to an admin for review. ",timeout:3e3}),t.$router.push("dashboard")}},1e3)},methods:{abortSync:function(){this.$router.push("dashboard")},checkSyncActions:function(){var t=this.$store.getters.lastSync+21600,e=this;u.a.axios.get(this.$store.getters.api.url+"sync-actions",{params:{where:"createdAt>FROM_UNIXTIME("+t+")"}}).then(function(t){t.data&&t.data.DATA&&t.data.DATA.length>0&&e.applySyncActions(t.data.DATA)}).catch(function(t){console.log(t),t.response&&window._oatsVue.$root.logError("apiError","error",t.response.status,{message:t.response.statusText},{url:t.config.url,itemType:db.name})})},applySyncActions:function(t){var e=this;console.log("Applying "+t.length+" sync actions"),t.forEach(function(t){switch(t.action){case"DELETE":case"COMPLETE":e.$store.dispatch("removeItem",t);break;case"RESET":e.$store.dispatch("resetItem",t)}})},postSyncAction:function(t,e,s){var n={syncAction:{objectName:t,objectId:e,action:s}};u.a.axios.post(this.$store.getters.api.url+"sync-actions",n).then(function(t){console.log(t)}).catch(function(t){console.log(t),t.response&&window._oatsVue.$root.logError("apiError","error",t.response.status,{message:t.response.statusText},{url:t.config.url,itemType:db.name})})},puts:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=this;console.log("Running puts for "+t);for(var a=this.$store.getters[t],u=[],p=[],f=l.a.unix(a.synced).utc().format("MMMM, DD YYYY HH:mm:ss"),h=a.items.length,y=0;y<h;y++)if("photos"===t&&a.items[y].appGeneratedID&&r.syncedPhotos.includes(a.items[y].appGeneratedID))console.log("Skipping photo, already synced.");else{if("photos"===t&&a.items[y].appGeneratedID&&r.syncedPhotos.push(a.items[y].appGeneratedID),"answers"===t){if(!1===a.items[y].created){u.push(a.items[y]);continue}if(a.items[y].inspectionid&&36!==a.items[y].inspectionid.toString.length&&l()(a.items[y].updatedAt).utc().isAfter(f)){console.log("Forcing update of answer."),p.push(a.items[y]);continue}}l()(a.items[y].createdAt).utc().isAfter(f)||!1===a.items[y].created?(console.log(" "+y+" (Index of "+t+")  "+a.items[y].createdAt+" is after "+f),u.push(a.items[y])):l()(a.items[y].updatedAt).utc().isAfter(f)&&p.push(a.items[y])}this.postCounts[t]=p.length+u.length,(!e&&"answers"!=t||e&&"answers"===t)&&(this.syncSteps+=u.length,this.syncPostSteps+=u.length,this.syncSteps+=p.length,this.syncPostSteps+=p.length),this.syncMessage="Posting "+this.syncPostSteps+" changes...","answers"!==t&&!e&&"photos"!==t&&!e||"answers"===t&&e||"photos"===t&&e?(u.forEach(function(e){"inspection"===t&&e.completedLocally&&d.Events.$emit("inspection:complete",e);var i=t.substr(0,t.length-1),a={name:t,payload:{}};if(a.payload[i]=JSON.parse(c()(e)),"answers"===t&&(a.key=e.inspectionid+","+e.categoryid+","+e.questionid,a.payload.answer.answer=c()(a.payload.answer.answer),a.payload.answer.defectOutcome=c()(a.payload.answer.defectOutcome)),!0===a.payload[i].created)return n.syncStepsTaken+=1,void n.updateProgress();n.$store.dispatch("putItem",a).then(function(r){if(r&&r.data&&r.data.DATA&&r.data.DATA.ID)n.$store.commit("addId",{name:t,item:e,id:r.data.DATA.ID}),n.syncStepsTaken+=1,s&&s(a.payload[i].appGeneratedID,r.data.DATA.ID),n.updateProgress();else{if("answers"===t)try{console.log("unserializing answer"),a.payload.answer.answer=JSON.parse(a.payload.answer.answer),a.payload.answer.defectOutcome&&(a.payload.answer.defectOutcome=JSON.parse(a.payload.answer.defectOutcome))}catch(t){console.log(t)}console.log("No ID returned for "+t),console.log(r),o&&a.payload[i].id&&o(a.payload[i].id),n.syncStepsTaken+=1,n.updateProgress()}}).catch(function(e){if("answers"===t)try{console.log("unserializing answer"),a.payload.answer.answer=JSON.parse(a.payload.answer.answer),a.payload.answer.defectOutcome&&(a.payload.answer.defectOutcome=JSON.parse(a.payload.answer.defectOutcome))}catch(t){console.log(t)}r.syncStepsTaken+=1,n.updateProgress(),console.log(e)})}),p.forEach(function(e){var s={name:t,key:"",payload:{}};"inspection"===t&&e.completedLocally&&d.Events.$emit("inspection:complete",e),s.payload[t.substr(0,t.length-1)]=JSON.parse(c()(e)),"answers"===t?(s.key=e.inspectionid+","+e.categoryid+","+e.questionid,s.payload.answer.answer=c()(s.payload.answer.answer),s.payload.answer.defectOutcome=c()(s.payload.answer.defectOutcome)):s.key=e.id,n.$store.dispatch("updateItem",s).then(function(i){if("answers"===t)try{console.log("unserializing answer"),s.payload.answer.answer=JSON.parse(s.payload.answer.answer),s.payload.answer.defectOutcome&&(s.payload.answer.defectOutcome=JSON.parse(s.payload.answer.defectOutcome))}catch(t){console.log(t)}n.syncStepsTaken+=1,o&&o(e.id),n.updateProgress()}).catch(function(e){if("answers"===t)try{console.log("unserializing answer"),s.payload.answer.answer=JSON.parse(s.payload.answer.answer),s.payload.answer.defectOutcome&&(s.payload.answer.defectOutcome=JSON.parse(s.payload.answer.defectOutcome))}catch(t){console.log(t)}r.syncStepsTaken+=1,n.updateProgress(),console.log(e)})})):console.log("not saving "+t),0===u.length&&i&&i()},gets:function(){var t=this;this.syncProgress=0,this.syncSteps=0,this.syncTotal=this.syncStepsTaken,this.syncStepsTaken=0,this.syncs=this.$store.getters.dbNames,this.syncs.forEach(function(e){["answers","inspections","jobs"].includes(e)||t.sync(e)}),this.sync("jobs",null,function(e){var s=new r.a;e.forEach(function(t){s.add(t.id)}),0!=s.size&&t.sync("inspections",{where:"jobid in ("+[].concat(o()(s))+")"},function(e){var s=new r.a;e.forEach(function(t){36!==t.id.toString().length&&s.add(t.id)}),t.sync("answers",{where:"inspectionid in ("+[].concat(o()(s))+")"},null,function(t){t.forEach(function(e,s){if(e.answer)try{t[s].answer=JSON.parse(e.answer)}catch(e){console.log(t[s]),t[s].answer={},console.log(e)}e.defectOutcome&&(t[s].defectOutcome=JSON.parse(e.defectOutcome))})})})})},sync:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this;if(this.inProgress>=3)return void setTimeout(function(){o.sync(t,e,s,n)},300);d.Platform.is.cordova?this.timeDelay+=500:this.timeDelay+=150,this.inProgress++,o.$store.dispatch("fetchCount",{name:t,querystring:e}).then(d.Utils.debounce(function(e){o.inProgress--,e&&e.data&&e.data.DATA&&e.data.DATA.length>0?function(){o.syncSteps+=e.data.DATA.length,o.syncMessage="Syncing "+o.syncSteps+" items with OATS website...";var i=0,r=e.data.DATA.length+20,a=0;for(console.log(r+" items for "+t);i<r;)i+=Math.min(1e3,r),a++,o.$store.dispatch("db",{name:t,items:e.data.DATA,page:a,perPage:Math.min(1e3,r)}).then(function(e){o.syncStepsTaken+=e.data.DATA.length,o.syncEndpoints+=1;var i=e.data.DATA;n&&n(i),o.$store.commit("db",{name:t,items:i}),s&&s(i),setTimeout(function(){o.updateProgress()},700)}).catch(function(t){o.syncStepsTaken+=Math.min(1e3,r),o.syncEndpoints+=1,console.log(t)})}():(o.syncEndpoints+=1,o.$store.commit("dbSyncTime",{name:t}),s&&s(o.$store.state.db[t].items),setTimeout(function(){o.updateProgress()},1e3))}),300).catch(function(t){o.syncEndpoints+=1,setTimeout(function(){o.updateProgress()},1e3),console.log(t)})},updateProgress:function(){this.syncSteps>0&&this.syncStepsTaken>0&&this.syncProgress<100&&(this.syncProgress=parseInt(this.syncStepsTaken/this.syncSteps*100));var t=this,e=6e3;d.Platform.is.cordova&&(e=6e3),setTimeout(function(){if(t.syncProgress>=100&&t.syncSteps>0&&!t.syncComplete&&t.syncEndpoints>0||0===t.syncProgress&&0===t.inProgress&&0===t.syncSteps&&!t.syncComplete){if(t.syncSteps>0&&t.syncStepsTaken<t.syncSteps)return;console.log("sync completed"),t.syncComplete=!0,t.syncMessage="Completed sync.",t.$store.commit("lastSync"),d.Events.$emit("sync:complete"),d.Toast.create.positive({html:"Synced "+(t.syncTotal+t.syncStepsTaken)+" items.",timeout:1e3}),setTimeout(function(){t.$router.push("dashboard")},2200)}},e)}}}},521:function(t,e,s){e=t.exports=s(390)(void 0),e.push([t.i,":root{--color:#333}",""])},540:function(t,e,s){var n=s(521);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(391)("0b04a1da",n,!0)},594:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"sync"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-title bg-primary text-white"},[t._v("\n\t\t\tSync\n\t\t")]),t._v(" "),s("div",{staticClass:"card-content card-force-top-padding"},[s("p",[t._v("Syncronizing with OATS website")]),t._v(" "),s("q-progress",{staticClass:"stripe",class:{animate:t.syncProgress<100,indeterminate:0===t.syncProgress},staticStyle:{height:"10px"},attrs:{percentage:t.syncProgress}}),t._v(" "),s("p",t._l(t.syncMessages,function(e){return s("span",[t._v(t._s(e)+" "),s("br")])}))],1),t._v(" "),s("div",{staticClass:"pull-right generic-margin"},[s("button",{staticClass:"negative small",on:{click:function(e){t.abortSync()}}},[s("i",[t._v("cancel")]),t._v(" Abort Sync & Go To Dashboard\n\t\t\t")])])])])},staticRenderFns:[]}}});